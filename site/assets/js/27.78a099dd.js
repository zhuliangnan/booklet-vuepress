(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{470:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"docker基础命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker基础命令"}},[s._v("#")]),s._v(" Docker基础命令")]),s._v(" "),t("h3",{attrs:{id:"docker的启动与停止"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker的启动与停止"}},[s._v("#")]),s._v(" Docker的启动与停止")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("启动docker\nsystemctl start docker\n\n停止docker：\nsystemctl stop docker\n\n重启docker：\nsystemctl restart docker \n\n查看docker状态：\nsystemctl status docker\n \n开机启动：\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker\n\n查看所有镜像 docker images\n\n删除镜像"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("会提示先停止使用中的容器"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" docker rmi  镜像name/镜像id\n\n查看所有容器 docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n\n查看容器运行日志 docker logs 容器名称/容器id\n\n停止容器运行 docker stop 容器name/容器id\n\n终止容器后运行 docker start 容器name/容器id\n\n容器重启 docker restart 容器name/容器id\n\n删除容器 docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器name/容器id\n\n查看远程镜像  docker search activemq\n\n拉取镜像 docker pull "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("h3",{attrs:{id:"docker容器信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker容器信息"}},[s._v("#")]),s._v(" Docker容器信息")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看docker容器版本")]),s._v("\ndocker version\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看docker容器信息")]),s._v("\ndocker info\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看docker容器帮助")]),s._v("\ndocker --help\n")])])]),t("h3",{attrs:{id:"镜像操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作"}},[s._v("#")]),s._v(" 镜像操作")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##列出本地images")]),s._v("\ndocker images\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##含中间映像层")]),s._v("\ndocker images -a\n")])])]),t("p",[t("img",{attrs:{src:"/docker/1659331-20190521104721523-485290950.png",alt:"img"}})]),s._v(" "),t("h4",{attrs:{id:"镜像搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像搜索"}},[s._v("#")]),s._v(" 镜像搜索")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##搜索仓库MySQL镜像")]),s._v("\ndocker search mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## --filter=stars=600：只显示 starts>=600 的镜像")]),s._v("\ndocker search --filter"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stars"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## --no-trunc 显示镜像完整 DESCRIPTION 描述")]),s._v("\ndocker search --no-trunc mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## --automated ：只列出 AUTOMATED=OK 的镜像")]),s._v("\ndocker search  --automated mysql\n")])])]),t("p",[t("img",{attrs:{src:"/docker/1659331-20190521110514156-691788920.png",alt:"img"}})]),s._v(" "),t("h4",{attrs:{id:"镜像下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像下载"}},[s._v("#")]),s._v(" 镜像下载")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##下载Redis官方最新镜像，相当于：docker pull redis:latest")]),s._v("\ndocker pull redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##下载仓库所有Redis镜像")]),s._v("\ndocker pull -a redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##下载私人仓库镜像")]),s._v("\ndocker pull bitnami/redis\n")])])]),t("p",[t("img",{attrs:{src:"/docker/1659331-20190521112716615-10141164.png",alt:"img"}})]),s._v(" "),t("h4",{attrs:{id:"镜像删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像删除"}},[s._v("#")]),s._v(" 镜像删除")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##单个镜像删除，相当于：docker rmi redis:latest")]),s._v("\ndocker rmi redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##强制删除(针对基于镜像有运行的容器进程)")]),s._v("\ndocker rmi -f redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##多个镜像删除，不同镜像间以空格间隔")]),s._v("\ndocker rmi -f redis tomcat nginx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除本地全部镜像")]),s._v("\ndocker rmi -f "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker images -q"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),t("h4",{attrs:{id:"镜像构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像构建"}},[s._v("#")]),s._v(" 镜像构建")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##（1）编写dockerfile")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /docker/dockerfile\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" mycentos\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-------------jar包部署-----satrt--------")]),s._v("\nFROM java:8   \nMAINTAINER bingo\nADD demo-0.0.1-SNAPSHOT.jar demo.jar\nEXPOSE "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\nENTRYPOINT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-jar"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo.jar"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n注解：\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# from java:8   拉取一个jdk为1.8的docker image")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# maintainer  作者是bingo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# demo-0.0.1-SNAPSHOT.jar 就是你上传的jar包，替换为jar包的名称")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# demo.jar  是你将该jar包重新命名为什么名称，在容器中运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# expose  该容器暴露的端口是多少，就是jar在容器中以多少端口运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# entrypoint 容器启动之后执行的命令，java -jar demo.jar  即启动jar")]),s._v("\n\n构建镜像\ndocker build -t mydemo "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mydemo  构建之后镜像名称")]),s._v("\n运行容器\ndocker run -d --name demo -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 mydemo\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-------------jar包部署-------end--------")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##（2）构建docker镜像")]),s._v("\ndocker build -f /docker/dockerfile/mycentos -t mycentos:1.1\n")])])]),t("h3",{attrs:{id:"镜像启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像启动"}},[s._v("#")]),s._v(" 镜像启动")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("   docker run -p 本机映射端口:镜像映射端口 -d  --name 启动镜像名称 -e 镜像启动参数  镜像名称:镜像版本号\n\n  参数释义：\n\n  -p   本机端口和容器启动端口映射\n  -d   后台运行\n  --name   容器名称\n  -e    镜像启动参数 \n")])])]),t("h3",{attrs:{id:"容器操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器操作"}},[s._v("#")]),s._v(" 容器操作")]),s._v(" "),t("p",[t("strong",[s._v("提示：对于容器的操作可使用CONTAINER ID 或 NAMES。")])]),s._v(" "),t("h4",{attrs:{id:"容器启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器启动"}},[s._v("#")]),s._v(" 容器启动")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##新建并启动容器，参数：-i  以交互模式运行容器；-t  为容器重新分配一个伪输入终端；--name  为容器指定一个名称")]),s._v("\ndocker run -i -t --name mycentos\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##后台启动容器，参数：-d  已守护方式启动容器")]),s._v("\ndocker run -d mycentos\n\n注意：此时使用"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker ps -a"')]),s._v("会发现容器已经退出。这是docker的机制：要使Docker容器后台运行，就必须有一个前台进程。解决方案：将你要运行的程序以前台进程的形式运行。\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##启动一个或多个已经被停止的容器")]),s._v("\ndocker start redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##重启容器")]),s._v("\ndocker restart redis\n")])])]),t("h4",{attrs:{id:"容器进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器进程"}},[s._v("#")]),s._v(" 容器进程")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##top支持 ps 命令参数，格式：docker top [OPTIONS] CONTAINER [ps OPTIONS]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##列出redis容器中运行进程")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看所有运行容器的进程信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Up"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $1}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),t("h4",{attrs:{id:"容器日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器日志"}},[s._v("#")]),s._v(" 容器日志")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看redis容器日志，默认参数")]),s._v("\ndocker logs rabbitmq\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看redis容器日志，参数：-f  跟踪日志输出；-t   显示时间戳；--tail  仅列出最新N条容器日志；")]),s._v("\ndocker logs -f -t --tail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看容器redis从2019年05月21日后的最新10条日志。")]),s._v("\ndocker logs --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019-05-21"')]),s._v(" --tail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##实时查看容器日志")]),s._v("\ndocker logs -f 容器id\n")])])]),t("h4",{attrs:{id:"容器的进入和退出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器的进入和退出"}},[s._v("#")]),s._v(" 容器的进入和退出")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##使用run方式在创建时进入")]),s._v("\ndocker run -it centos /bin/bash\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##关闭容器并退出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##仅退出容器，不关闭")]),s._v("\n快捷键：Ctrl + P + Q\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##直接进入centos 容器启动命令的终端，不会启动新进程，多个attach连接共享容器屏幕，参数：--sig-proxy=false  确保CTRL-D或CTRL-C不会关闭容器")]),s._v("\ndocker attach --sig-proxy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false centos \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##在 centos 容器中打开新的交互模式终端，可以启动新进程，参数：-i  即使没有附加也保持STDIN 打开；-t  分配一个伪终端")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -i -t  centos /bin/bash\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##以交互模式在容器中执行命令，结果返回到当前终端屏幕")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -i -t centos "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l /tmp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##以分离模式在容器中执行命令，程序后台运行，结果不会反馈到当前终端")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -d centos  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" cache.txt \n")])])]),t("h4",{attrs:{id:"查看容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看容器"}},[s._v("#")]),s._v(" 查看容器")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看正在运行的容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看正在运行的容器的ID")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -q\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看正在运行+历史运行过的容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##显示运行容器总文件大小")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -s\n")])])]),t("p",[t("img",{attrs:{src:"/docker/1659331-20190521132255698-500560462.png",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/docker/1659331-20190521133039811-1994116017.png",alt:"img"}})]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##显示最近创建容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##显示最近创建的3个容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##不截断输出")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" --no-trunc \n")])])]),t("h4",{attrs:{id:"容器的停止与删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器的停止与删除"}},[s._v("#")]),s._v(" 容器的停止与删除")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##停止一个运行中的容器")]),s._v("\ndocker stop redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##杀掉一个运行中的容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除一个已停止的容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除一个运行中的容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f redis\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##删除多个容器")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -l 移除容器间的网络连接，连接名为 db")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -l db \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -v 删除容器，并删除容器挂载的数据卷")]),s._v("\n")])])]),t("h4",{attrs:{id:"生成镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成镜像"}},[s._v("#")]),s._v(" 生成镜像")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##基于当前redis容器创建一个新的镜像；参数：-a 提交的镜像作者；-c 使用Dockerfile指令来创建镜像；-m :提交时的说明文字；-p :在commit时，将容器暂停")]),s._v("\ndocker commit -a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DeepInThought"')]),s._v(" -m"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my redis"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("redis容器ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  myredis:v1.1\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);