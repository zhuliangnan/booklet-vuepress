<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis | è®°åœ¨å°æœ¬æœ¬ä¸Š</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script data-ad-client="ca-pub-2245427233262012" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="Java åŸºç¡€ï¼Œé¢ç»æ‰‹å†Œï¼ŒGoè¯­è¨€æ•™ç¨‹ï¼ŒMySqlä»å…¥é—¨åˆ°å®æˆ˜ï¼ŒRedisä»å…¥é—¨åˆ°å…¥åœŸï¼Œè®¾è®¡æ¨¡å¼ï¼Œæ‚æ–‡ï¼Œæ‘„å½±...">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.a98061bf.css" as="style"><link rel="preload" href="/assets/js/app.75796fb8.js" as="script"><link rel="preload" href="/assets/js/5.4faacd21.js" as="script"><link rel="preload" href="/assets/js/125.19a7b81f.js" as="script"><link rel="preload" href="/assets/js/9.fd263465.js" as="script"><link rel="prefetch" href="/assets/js/10.c4edd8fe.js"><link rel="prefetch" href="/assets/js/100.8577f6af.js"><link rel="prefetch" href="/assets/js/101.db3b0d0a.js"><link rel="prefetch" href="/assets/js/102.3d9df0d1.js"><link rel="prefetch" href="/assets/js/103.7317b5f1.js"><link rel="prefetch" href="/assets/js/104.34b5a3a7.js"><link rel="prefetch" href="/assets/js/105.beb4f8b2.js"><link rel="prefetch" href="/assets/js/106.d9017938.js"><link rel="prefetch" href="/assets/js/107.a957bd64.js"><link rel="prefetch" href="/assets/js/108.d82ba6c3.js"><link rel="prefetch" href="/assets/js/109.981e409d.js"><link rel="prefetch" href="/assets/js/11.3ff6d2f6.js"><link rel="prefetch" href="/assets/js/110.9ef40cbb.js"><link rel="prefetch" href="/assets/js/111.60a2ebc0.js"><link rel="prefetch" href="/assets/js/112.0bc42df1.js"><link rel="prefetch" href="/assets/js/113.25b23bfe.js"><link rel="prefetch" href="/assets/js/114.862ffc23.js"><link rel="prefetch" href="/assets/js/115.82daf396.js"><link rel="prefetch" href="/assets/js/116.b3fb800e.js"><link rel="prefetch" href="/assets/js/117.03c974cf.js"><link rel="prefetch" href="/assets/js/118.cf235b2a.js"><link rel="prefetch" href="/assets/js/119.1b35753c.js"><link rel="prefetch" href="/assets/js/12.79cabd30.js"><link rel="prefetch" href="/assets/js/120.01960f7b.js"><link rel="prefetch" href="/assets/js/121.2a9ae616.js"><link rel="prefetch" href="/assets/js/122.436ff9c4.js"><link rel="prefetch" href="/assets/js/123.717748ed.js"><link rel="prefetch" href="/assets/js/124.097f6032.js"><link rel="prefetch" href="/assets/js/126.6edd6221.js"><link rel="prefetch" href="/assets/js/127.ecd75508.js"><link rel="prefetch" href="/assets/js/128.6e80ca7d.js"><link rel="prefetch" href="/assets/js/129.f14283ce.js"><link rel="prefetch" href="/assets/js/13.ce54800d.js"><link rel="prefetch" href="/assets/js/130.caced305.js"><link rel="prefetch" href="/assets/js/131.54da0def.js"><link rel="prefetch" href="/assets/js/132.bf238ddf.js"><link rel="prefetch" href="/assets/js/133.86ff1792.js"><link rel="prefetch" href="/assets/js/134.c92a4c9f.js"><link rel="prefetch" href="/assets/js/135.aeb77269.js"><link rel="prefetch" href="/assets/js/136.1c4ae91d.js"><link rel="prefetch" href="/assets/js/137.ea75a8e0.js"><link rel="prefetch" href="/assets/js/138.e81868a8.js"><link rel="prefetch" href="/assets/js/139.42d45662.js"><link rel="prefetch" href="/assets/js/14.8e633470.js"><link rel="prefetch" href="/assets/js/140.f6e17570.js"><link rel="prefetch" href="/assets/js/141.9b33189a.js"><link rel="prefetch" href="/assets/js/142.03ba2c00.js"><link rel="prefetch" href="/assets/js/15.e56523ce.js"><link rel="prefetch" href="/assets/js/16.6732e23b.js"><link rel="prefetch" href="/assets/js/17.195f916a.js"><link rel="prefetch" href="/assets/js/18.fbb265f7.js"><link rel="prefetch" href="/assets/js/19.04cf1a70.js"><link rel="prefetch" href="/assets/js/20.4ab9e6fe.js"><link rel="prefetch" href="/assets/js/21.64913197.js"><link rel="prefetch" href="/assets/js/22.a5a85516.js"><link rel="prefetch" href="/assets/js/23.ea9d25f6.js"><link rel="prefetch" href="/assets/js/24.91ef6425.js"><link rel="prefetch" href="/assets/js/25.9dbb3439.js"><link rel="prefetch" href="/assets/js/26.6c7d6d9c.js"><link rel="prefetch" href="/assets/js/27.7e49719b.js"><link rel="prefetch" href="/assets/js/28.2e0b2130.js"><link rel="prefetch" href="/assets/js/29.81ae5b3a.js"><link rel="prefetch" href="/assets/js/30.b86160da.js"><link rel="prefetch" href="/assets/js/31.783773e8.js"><link rel="prefetch" href="/assets/js/32.d3283304.js"><link rel="prefetch" href="/assets/js/33.6618c191.js"><link rel="prefetch" href="/assets/js/34.9d600980.js"><link rel="prefetch" href="/assets/js/35.e40dfefd.js"><link rel="prefetch" href="/assets/js/36.d72e25cd.js"><link rel="prefetch" href="/assets/js/37.2e4fe0c5.js"><link rel="prefetch" href="/assets/js/38.2a4c0d91.js"><link rel="prefetch" href="/assets/js/39.a08c6583.js"><link rel="prefetch" href="/assets/js/40.a0f95162.js"><link rel="prefetch" href="/assets/js/41.17424686.js"><link rel="prefetch" href="/assets/js/42.1894c5ab.js"><link rel="prefetch" href="/assets/js/43.26882514.js"><link rel="prefetch" href="/assets/js/44.f73d4e93.js"><link rel="prefetch" href="/assets/js/45.00ef05ff.js"><link rel="prefetch" href="/assets/js/46.afb22169.js"><link rel="prefetch" href="/assets/js/47.8a4efd9e.js"><link rel="prefetch" href="/assets/js/48.477392b5.js"><link rel="prefetch" href="/assets/js/49.113e46d3.js"><link rel="prefetch" href="/assets/js/50.88ee9d2c.js"><link rel="prefetch" href="/assets/js/51.4d480c77.js"><link rel="prefetch" href="/assets/js/52.446f3877.js"><link rel="prefetch" href="/assets/js/53.965d7cc0.js"><link rel="prefetch" href="/assets/js/54.8a765cac.js"><link rel="prefetch" href="/assets/js/55.658cb209.js"><link rel="prefetch" href="/assets/js/56.c73fd3a1.js"><link rel="prefetch" href="/assets/js/57.0de02c93.js"><link rel="prefetch" href="/assets/js/58.1ca14dfb.js"><link rel="prefetch" href="/assets/js/59.d9e670a1.js"><link rel="prefetch" href="/assets/js/6.841da28e.js"><link rel="prefetch" href="/assets/js/60.203398fb.js"><link rel="prefetch" href="/assets/js/61.3a15f48d.js"><link rel="prefetch" href="/assets/js/62.f7eacfdd.js"><link rel="prefetch" href="/assets/js/63.34a07196.js"><link rel="prefetch" href="/assets/js/64.803bfd15.js"><link rel="prefetch" href="/assets/js/65.31540090.js"><link rel="prefetch" href="/assets/js/66.7b143ddc.js"><link rel="prefetch" href="/assets/js/67.9b649dcb.js"><link rel="prefetch" href="/assets/js/68.ca4a8d86.js"><link rel="prefetch" href="/assets/js/69.40fa5e04.js"><link rel="prefetch" href="/assets/js/7.cf3563c1.js"><link rel="prefetch" href="/assets/js/70.8c66f40e.js"><link rel="prefetch" href="/assets/js/71.2784ba44.js"><link rel="prefetch" href="/assets/js/72.a2c25326.js"><link rel="prefetch" href="/assets/js/73.9f98acac.js"><link rel="prefetch" href="/assets/js/74.7b0cc7bb.js"><link rel="prefetch" href="/assets/js/75.6055ffaa.js"><link rel="prefetch" href="/assets/js/76.e632d141.js"><link rel="prefetch" href="/assets/js/77.84bdb53f.js"><link rel="prefetch" href="/assets/js/78.328e1567.js"><link rel="prefetch" href="/assets/js/79.3281a1e2.js"><link rel="prefetch" href="/assets/js/8.5b0ea1a7.js"><link rel="prefetch" href="/assets/js/80.c07bd478.js"><link rel="prefetch" href="/assets/js/81.ee6ac122.js"><link rel="prefetch" href="/assets/js/82.5f973b0e.js"><link rel="prefetch" href="/assets/js/83.37d90395.js"><link rel="prefetch" href="/assets/js/84.9273b725.js"><link rel="prefetch" href="/assets/js/85.d58beb52.js"><link rel="prefetch" href="/assets/js/86.b268b510.js"><link rel="prefetch" href="/assets/js/87.00fa30e4.js"><link rel="prefetch" href="/assets/js/88.19884558.js"><link rel="prefetch" href="/assets/js/89.02d12f70.js"><link rel="prefetch" href="/assets/js/90.251bae27.js"><link rel="prefetch" href="/assets/js/91.4f8d0d0d.js"><link rel="prefetch" href="/assets/js/92.001a82da.js"><link rel="prefetch" href="/assets/js/93.39bca74f.js"><link rel="prefetch" href="/assets/js/94.2b8503d6.js"><link rel="prefetch" href="/assets/js/95.a0f745cb.js"><link rel="prefetch" href="/assets/js/96.f3e6f044.js"><link rel="prefetch" href="/assets/js/97.f058f603.js"><link rel="prefetch" href="/assets/js/98.c5bd0deb.js"><link rel="prefetch" href="/assets/js/99.516de4bd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.3fe60842.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.2f652080.js"><link rel="prefetch" href="/assets/js/vendors~notification.b7c38425.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a98061bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">è®°åœ¨å°æœ¬æœ¬ä¸Š</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java-guide/" class="nav-link">
  Javaå¼€å‘é¿å‘æŒ‡å—ğŸ“
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹è¯­è¨€â˜•" class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€â˜•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¼–ç¨‹è¯­è¨€â˜•" class="mobile-dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€â˜•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Golang
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/golang/" class="nav-link">
  Golangå…¥é—¨åŸºç¡€æ•™ç¨‹ğŸ§‘â€ğŸš€
</a></li></ul></li><li class="dropdown-item"><h4>
          Golang(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/golang-note/GoLand æ§åˆ¶å°è¾“å‡ºä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ.html" class="nav-link">
  GoLand æ§åˆ¶å°è¾“å‡ºä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆğŸ‘¿
</a></li><li class="dropdown-subitem"><a href="/golang-note/Goè¯­è¨€ç”ŸæˆäºŒç»´ç .html" class="nav-link">
  Goè¯­è¨€ç”ŸæˆäºŒç»´ç ğŸ¤–
</a></li><li class="dropdown-subitem"><a href="/golang-note/Golang æ–°æ‰‹å¯èƒ½ä¼šè¸©çš„ 50+ ä¸ªå‘.html" class="nav-link">
  Golang æ–°æ‰‹å¯èƒ½ä¼šè¸©çš„ 50+ ä¸ªå‘ğŸ‘½
</a></li><li class="dropdown-subitem"><a href="/golang-note/GoLand è§£å†³æ— æ³•å¯¼å…¥è‡ªå®šä¹‰åŒ…çš„é—®é¢˜.html" class="nav-link">
  GoLand è§£å†³æ— æ³•å¯¼å…¥è‡ªå®šä¹‰åŒ…çš„é—®é¢˜ğŸ¤¬
</a></li></ul></li><li class="dropdown-item"><h4>
          Java(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-note/Springbootå¼•ç”¨å¤–éƒ¨jaråŒ…å¹¶æ‰“åŒ…æˆjarç¨‹åºè¿è¡Œ.html" class="nav-link">
  Springbootå¼•ç”¨å¤–éƒ¨jaråŒ…å¹¶æ‰“åŒ…æˆjarç¨‹åºè¿è¡ŒğŸ˜º
</a></li><li class="dropdown-subitem"><a href="/java-note/Error-javaæ— æ•ˆçš„æºå‘è¡Œç‰ˆ11é”™è¯¯.html" class="nav-link">
  Error:java: æ— æ•ˆçš„æºå‘è¡Œç‰ˆ: 11é”™è¯¯ğŸ™€
</a></li><li class="dropdown-subitem"><a href="/java-note/åŸºäºSpring Aopå®ç°ç”¨æˆ·æ“ä½œæ—¥å¿—ç›‘æ§.html" class="nav-link">
  åŸºäºSpring Aopå®ç°ç”¨æˆ·æ“ä½œæ—¥å¿—ç›‘æ§ğŸ™‰
</a></li><li class="dropdown-subitem"><a href="/java-note/fastjsonåŸºæœ¬ä½¿ç”¨.html" class="nav-link">
  fastjsonåŸºæœ¬ä½¿ç”¨ğŸ¤ 
</a></li><li class="dropdown-subitem"><a href="/java-note/springé¡¹ç›®ä¸­æ‰‹åŠ¨è·å–bean.html" class="nav-link">
  springé¡¹ç›®ä¸­æ‰‹åŠ¨è·å–beanğŸ¤ 
</a></li></ul></li><li class="dropdown-item"><h4>
          Gradle(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/gradle-note/Ideaå®ç°gradleæ‰“jaråŒ….html" class="nav-link">
  Ideaå®ç°gradleæ‰“jaråŒ…ğŸ˜º
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶ğŸ€„" class="dropdown-title"><span class="title">ä¸­é—´ä»¶ğŸ€„</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶ğŸ€„" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶ğŸ€„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link router-link-active">
  RedisåŸºç¡€åˆ°å®æˆ˜(è¯¦ç»†)ğŸ®
</a></li><li class="dropdown-subitem"><a href="/redis/other/Redisæ“ä½œé€ŸæŸ¥æ‰‹å†Œ.html" class="nav-link">
  Redisæ“ä½œé€ŸæŸ¥æ‰‹å†ŒğŸ’
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•â³" class="dropdown-title"><span class="title">ç®—æ³•â³</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•â³" class="mobile-dropdown-title"><span class="title">ç®—æ³•â³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç®—æ³•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></li><li class="dropdown-subitem"><a href="/tooffer/" class="nav-link">
  å‰‘æŒ‡offer
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“ğŸ’Š" class="dropdown-title"><span class="title">æ•°æ®åº“ğŸ’Š</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“ğŸ’Š" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“ğŸ’Š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mysql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">
  MysqlåŸºç¡€åˆ°å®æˆ˜(è¯¦ç»†)ğŸ•¹ï¸
</a></li></ul></li><li class="dropdown-item"><h4>
          Mysql(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql-note/MySQLç´¢å¼•åŠå®é™…åº”ç”¨.html" class="nav-link">
  MySQLç´¢å¼•åŠå®é™…åº”ç”¨ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          Oracle(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/oracle-note/ORA-01756æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆä¸­æ–‡ç¼–ç é”™è¯¯.html" class="nav-link">
  ORA-01756æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆä¸­æ–‡ç¼–ç é”™è¯¯ğŸ¥
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®¹å™¨ğŸ³" class="dropdown-title"><span class="title">å®¹å™¨ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®¹å™¨ğŸ³" class="mobile-dropdown-title"><span class="title">å®¹å™¨ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          dockerğŸ³
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docker/" class="nav-link">
  dockeræ“ä½œæ‰‹å†ŒğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          docker(æ‚è°ˆ)ğŸ¬
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docker-note/Dockeræ—¶é—´ä¸linuxä¸ä¸€è‡´.html" class="nav-link">
  Dockeræ—¶é—´ä¸linuxä¸ä¸€è‡´ğŸ 
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å°å†Œ|éƒ¨ç½²|PDFğŸ“œ" class="dropdown-title"><span class="title">å°å†Œ|éƒ¨ç½²|PDFğŸ“œ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å°å†Œ|éƒ¨ç½²|PDFğŸ“œ" class="mobile-dropdown-title"><span class="title">å°å†Œ|éƒ¨ç½²|PDFğŸ“œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/Linuxå¸¸ç”¨æ“ä½œé€ŸæŸ¥.html" class="nav-link">
  Linuxå¸¸ç”¨æ“ä½œé€ŸæŸ¥â¤ğŸ¦
</a></li></ul></li><li class="dropdown-item"><h4>
          Linuxå°å†Œ(ç¯å¢ƒå®‰è£…)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/deploy/javaç¯å¢ƒå®‰è£….html" class="nav-link">
  javaç¯å¢ƒå®‰è£…ğŸŒ±
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/redisç¯å¢ƒå®‰è£….html" class="nav-link">
  redisç¯å¢ƒå®‰è£…(docker)ğŸ³
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/zookeeperç¯å¢ƒå®‰è£….html" class="nav-link">
  zookeeperç¯å¢ƒå®‰è£…(linux)ğŸ¦•
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/KafKaå®‰è£…æ•™ç¨‹.html" class="nav-link">
  KafKaå®‰è£…æ•™ç¨‹(Linux)ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          PDF
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mianshi/" class="nav-link">
  é¢è¯•çŸ¥è¯†ç‚¹ğŸ’¤ğŸ’­
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–ğŸ’¬" class="dropdown-title"><span class="title">å…¶ä»–ğŸ’¬</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–ğŸ’¬" class="mobile-dropdown-title"><span class="title">å…¶ä»–ğŸ’¬</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/git/git-clone-10054æˆ–è€…443é—®é¢˜.html" class="nav-link">
  git-clone-10054æˆ–è€…443é—®é¢˜ğŸ¥¥
</a></li></ul></li><li class="dropdown-item"><h4>
          å·¥ä½œæµ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/flowable/Flowableå·¥ä½œæµå¿«é€Ÿå…¥é—¨.html" class="nav-link">
  Flowableå·¥ä½œæµå¿«é€Ÿå…¥é—¨ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          npm
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack-dev-serverä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº.html" class="nav-link">
  webpack-dev-serverä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºğŸ¥¥
</a></li></ul></li><li class="dropdown-item"><h4>
          ES
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/elasticsearchç©ºindexæœç´¢æ’åºæŠ¥é”™é—®é¢˜Nomapping found for occurTime in order to sort on.html" class="nav-link">
  elasticsearchç©ºindexæœç´¢æ’åºæŠ¥é”™é—®é¢˜:No mapping found for occurTime in order to sort onğŸ¥¥
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‘„å½±ğŸ“·ğŸ¥" class="dropdown-title"><span class="title">æ‘„å½±ğŸ“·ğŸ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ‘„å½±ğŸ“·ğŸ¥" class="mobile-dropdown-title"><span class="title">æ‘„å½±ğŸ“·ğŸ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç…§ç‰‡
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camera/" class="nav-link">
  è¿‘æœŸæ‹æ‘„çš„ç›¸ç‰‡(åæœŸ)ğŸ³ï¸â€
</a></li></ul></li><li class="dropdown-item"><h4>
          æ‘„å½±
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/movie_camera/" class="nav-link">
  è¿‘æœŸæ‹æ‘„çš„è§†é¢‘ğŸ´â€
</a></li></ul></li><li class="dropdown-item"><h4>
          æ‚è°ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camera_color/åæœŸè°ƒè‰².html" class="nav-link">
  åæœŸè°ƒè‰²ğŸ³â€
</a></li></ul></li></ul></div></div> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java-guide/" class="nav-link">
  Javaå¼€å‘é¿å‘æŒ‡å—ğŸ“
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹è¯­è¨€â˜•" class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€â˜•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¼–ç¨‹è¯­è¨€â˜•" class="mobile-dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€â˜•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Golang
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/golang/" class="nav-link">
  Golangå…¥é—¨åŸºç¡€æ•™ç¨‹ğŸ§‘â€ğŸš€
</a></li></ul></li><li class="dropdown-item"><h4>
          Golang(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/golang-note/GoLand æ§åˆ¶å°è¾“å‡ºä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ.html" class="nav-link">
  GoLand æ§åˆ¶å°è¾“å‡ºä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆğŸ‘¿
</a></li><li class="dropdown-subitem"><a href="/golang-note/Goè¯­è¨€ç”ŸæˆäºŒç»´ç .html" class="nav-link">
  Goè¯­è¨€ç”ŸæˆäºŒç»´ç ğŸ¤–
</a></li><li class="dropdown-subitem"><a href="/golang-note/Golang æ–°æ‰‹å¯èƒ½ä¼šè¸©çš„ 50+ ä¸ªå‘.html" class="nav-link">
  Golang æ–°æ‰‹å¯èƒ½ä¼šè¸©çš„ 50+ ä¸ªå‘ğŸ‘½
</a></li><li class="dropdown-subitem"><a href="/golang-note/GoLand è§£å†³æ— æ³•å¯¼å…¥è‡ªå®šä¹‰åŒ…çš„é—®é¢˜.html" class="nav-link">
  GoLand è§£å†³æ— æ³•å¯¼å…¥è‡ªå®šä¹‰åŒ…çš„é—®é¢˜ğŸ¤¬
</a></li></ul></li><li class="dropdown-item"><h4>
          Java(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-note/Springbootå¼•ç”¨å¤–éƒ¨jaråŒ…å¹¶æ‰“åŒ…æˆjarç¨‹åºè¿è¡Œ.html" class="nav-link">
  Springbootå¼•ç”¨å¤–éƒ¨jaråŒ…å¹¶æ‰“åŒ…æˆjarç¨‹åºè¿è¡ŒğŸ˜º
</a></li><li class="dropdown-subitem"><a href="/java-note/Error-javaæ— æ•ˆçš„æºå‘è¡Œç‰ˆ11é”™è¯¯.html" class="nav-link">
  Error:java: æ— æ•ˆçš„æºå‘è¡Œç‰ˆ: 11é”™è¯¯ğŸ™€
</a></li><li class="dropdown-subitem"><a href="/java-note/åŸºäºSpring Aopå®ç°ç”¨æˆ·æ“ä½œæ—¥å¿—ç›‘æ§.html" class="nav-link">
  åŸºäºSpring Aopå®ç°ç”¨æˆ·æ“ä½œæ—¥å¿—ç›‘æ§ğŸ™‰
</a></li><li class="dropdown-subitem"><a href="/java-note/fastjsonåŸºæœ¬ä½¿ç”¨.html" class="nav-link">
  fastjsonåŸºæœ¬ä½¿ç”¨ğŸ¤ 
</a></li><li class="dropdown-subitem"><a href="/java-note/springé¡¹ç›®ä¸­æ‰‹åŠ¨è·å–bean.html" class="nav-link">
  springé¡¹ç›®ä¸­æ‰‹åŠ¨è·å–beanğŸ¤ 
</a></li></ul></li><li class="dropdown-item"><h4>
          Gradle(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/gradle-note/Ideaå®ç°gradleæ‰“jaråŒ….html" class="nav-link">
  Ideaå®ç°gradleæ‰“jaråŒ…ğŸ˜º
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶ğŸ€„" class="dropdown-title"><span class="title">ä¸­é—´ä»¶ğŸ€„</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶ğŸ€„" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶ğŸ€„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/redis/" class="nav-link router-link-active">
  RedisåŸºç¡€åˆ°å®æˆ˜(è¯¦ç»†)ğŸ®
</a></li><li class="dropdown-subitem"><a href="/redis/other/Redisæ“ä½œé€ŸæŸ¥æ‰‹å†Œ.html" class="nav-link">
  Redisæ“ä½œé€ŸæŸ¥æ‰‹å†ŒğŸ’
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•â³" class="dropdown-title"><span class="title">ç®—æ³•â³</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•â³" class="mobile-dropdown-title"><span class="title">ç®—æ³•â³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç®—æ³•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></li><li class="dropdown-subitem"><a href="/tooffer/" class="nav-link">
  å‰‘æŒ‡offer
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“ğŸ’Š" class="dropdown-title"><span class="title">æ•°æ®åº“ğŸ’Š</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“ğŸ’Š" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“ğŸ’Š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mysql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql/" class="nav-link">
  MysqlåŸºç¡€åˆ°å®æˆ˜(è¯¦ç»†)ğŸ•¹ï¸
</a></li></ul></li><li class="dropdown-item"><h4>
          Mysql(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mysql-note/MySQLç´¢å¼•åŠå®é™…åº”ç”¨.html" class="nav-link">
  MySQLç´¢å¼•åŠå®é™…åº”ç”¨ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          Oracle(æ‚è°ˆ)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/oracle-note/ORA-01756æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆä¸­æ–‡ç¼–ç é”™è¯¯.html" class="nav-link">
  ORA-01756æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆä¸­æ–‡ç¼–ç é”™è¯¯ğŸ¥
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®¹å™¨ğŸ³" class="dropdown-title"><span class="title">å®¹å™¨ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®¹å™¨ğŸ³" class="mobile-dropdown-title"><span class="title">å®¹å™¨ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          dockerğŸ³
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docker/" class="nav-link">
  dockeræ“ä½œæ‰‹å†ŒğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          docker(æ‚è°ˆ)ğŸ¬
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docker-note/Dockeræ—¶é—´ä¸linuxä¸ä¸€è‡´.html" class="nav-link">
  Dockeræ—¶é—´ä¸linuxä¸ä¸€è‡´ğŸ 
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å°å†Œ|éƒ¨ç½²|PDFğŸ“œ" class="dropdown-title"><span class="title">å°å†Œ|éƒ¨ç½²|PDFğŸ“œ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å°å†Œ|éƒ¨ç½²|PDFğŸ“œ" class="mobile-dropdown-title"><span class="title">å°å†Œ|éƒ¨ç½²|PDFğŸ“œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/Linuxå¸¸ç”¨æ“ä½œé€ŸæŸ¥.html" class="nav-link">
  Linuxå¸¸ç”¨æ“ä½œé€ŸæŸ¥â¤ğŸ¦
</a></li></ul></li><li class="dropdown-item"><h4>
          Linuxå°å†Œ(ç¯å¢ƒå®‰è£…)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/linux/deploy/javaç¯å¢ƒå®‰è£….html" class="nav-link">
  javaç¯å¢ƒå®‰è£…ğŸŒ±
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/redisç¯å¢ƒå®‰è£….html" class="nav-link">
  redisç¯å¢ƒå®‰è£…(docker)ğŸ³
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/zookeeperç¯å¢ƒå®‰è£….html" class="nav-link">
  zookeeperç¯å¢ƒå®‰è£…(linux)ğŸ¦•
</a></li><li class="dropdown-subitem"><a href="/linux/deploy/KafKaå®‰è£…æ•™ç¨‹.html" class="nav-link">
  KafKaå®‰è£…æ•™ç¨‹(Linux)ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          PDF
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mianshi/" class="nav-link">
  é¢è¯•çŸ¥è¯†ç‚¹ğŸ’¤ğŸ’­
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–ğŸ’¬" class="dropdown-title"><span class="title">å…¶ä»–ğŸ’¬</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–ğŸ’¬" class="mobile-dropdown-title"><span class="title">å…¶ä»–ğŸ’¬</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/git/git-clone-10054æˆ–è€…443é—®é¢˜.html" class="nav-link">
  git-clone-10054æˆ–è€…443é—®é¢˜ğŸ¥¥
</a></li></ul></li><li class="dropdown-item"><h4>
          å·¥ä½œæµ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/flowable/Flowableå·¥ä½œæµå¿«é€Ÿå…¥é—¨.html" class="nav-link">
  Flowableå·¥ä½œæµå¿«é€Ÿå…¥é—¨ğŸ‰
</a></li></ul></li><li class="dropdown-item"><h4>
          npm
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack-dev-serverä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº.html" class="nav-link">
  webpack-dev-serverä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºğŸ¥¥
</a></li></ul></li><li class="dropdown-item"><h4>
          ES
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/elasticsearchç©ºindexæœç´¢æ’åºæŠ¥é”™é—®é¢˜Nomapping found for occurTime in order to sort on.html" class="nav-link">
  elasticsearchç©ºindexæœç´¢æ’åºæŠ¥é”™é—®é¢˜:No mapping found for occurTime in order to sort onğŸ¥¥
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ‘„å½±ğŸ“·ğŸ¥" class="dropdown-title"><span class="title">æ‘„å½±ğŸ“·ğŸ¥</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ‘„å½±ğŸ“·ğŸ¥" class="mobile-dropdown-title"><span class="title">æ‘„å½±ğŸ“·ğŸ¥</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ç…§ç‰‡
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camera/" class="nav-link">
  è¿‘æœŸæ‹æ‘„çš„ç›¸ç‰‡(åæœŸ)ğŸ³ï¸â€
</a></li></ul></li><li class="dropdown-item"><h4>
          æ‘„å½±
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/movie_camera/" class="nav-link">
  è¿‘æœŸæ‹æ‘„çš„è§†é¢‘ğŸ´â€
</a></li></ul></li><li class="dropdown-item"><h4>
          æ‚è°ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camera_color/åæœŸè°ƒè‰².html" class="nav-link">
  åæœŸè°ƒè‰²ğŸ³â€
</a></li></ul></li></ul></div></div> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#redis-åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»" class="sidebar-link">Redis åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#redisobject" class="sidebar-link">redisObject</a></li><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#å­—ç¬¦ä¸²-string" class="sidebar-link">å­—ç¬¦ä¸²ï¼ˆstringï¼‰</a></li><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#åˆ—è¡¨-list" class="sidebar-link">åˆ—è¡¨ï¼ˆlistï¼‰</a></li><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#é›†åˆ-set" class="sidebar-link">é›†åˆï¼ˆsetï¼‰</a></li><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#æœ‰åºé›†åˆ-zset" class="sidebar-link">æœ‰åºé›†åˆï¼ˆzsetï¼‰</a></li><li class="sidebar-sub-header"><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#å“ˆå¸Œ-hash" class="sidebar-link">å“ˆå¸Œï¼ˆhashï¼‰</a></li></ul></li><li><a href="/redis/other/Redis%E6%93%8D%E4%BD%9C%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html#æ¸…é™¤redisç¼“å­˜æ•°æ®" class="sidebar-link">æ¸…é™¤redisç¼“å­˜æ•°æ®</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h1> <div class="language-bash extra-class"><pre class="language-bash"><code>ä¸€ å®‰è£…gccï¼šéœ€è¦å®‰è£…gcc æ‰èƒ½ä½¿ç”¨makeç¼–è¯‘
yum -y <span class="token function">install</span> gcc
yum -y <span class="token function">install</span> gcc-c++

äºŒ ç¼–è¯‘ï¼šåœ¨redisè§£å‹æ‰€åœ¨ç›®å½•ä¸‹ä½¿ç”¨makeç¼–è¯‘
<span class="token builtin class-name">cd</span> redis-4.0.8
<span class="token function">make</span>
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>

ä¸‰ å®‰è£…ï¼šç¼–è¯‘å¥½äº†éœ€è¦å®‰è£… å®‰è£…ç›®å½•ä¸º/usr/local/redis-5.0.8
<span class="token function">make</span> <span class="token assign-left variable">PREFIX</span><span class="token operator">=</span>/usr/local/redis-5.0.8 <span class="token function">install</span>

å››ï¼šå¦‚æœæ²¡æœ‰é…ç½®æ–‡ä»¶ï¼Œå»å®˜ç½‘ä¸‹è½½
http://download.redis.io/redis-stable/redis.conf

äº”ï¼šé…ç½®æ–‡ä»¶ä¿®æ”¹
<span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1æ”¹ä¸º <span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0æˆ–è€… <span class="token comment"># bind 127.0.0.1ï¼ˆæ³¨é‡Šæ‰å³å¯ï¼‰</span>
protected-mode no  //å…³é—­ä¿æŠ¤æ¨¡å¼
appendonly <span class="token function">yes</span>     //aofæŒä¹…åŒ–  é»˜è®¤å¼€å¯rdbæŒä¹…åŒ–
aof-use-rdb-preamble <span class="token function">yes</span> // æ··åˆæ¨¡å¼æŒä¹…åŒ–
requirepass <span class="token number">123456</span>   //å¯†ç  
daemonize <span class="token function">yes</span> //åå°å¯åŠ¨  
logfile //æ—¥å¿—ä½ç½®
maxmemory-policy allkeys-lru   //è®¾ç½®è¿‡æœŸæ·˜æ±°ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
<span class="token punctuation">..</span>.æ ¹æ®éœ€è¦ä¿®æ”¹

cluster-enabled <span class="token function">yes</span> <span class="token comment">#å¼€å¯clusterï¼Œå»æ‰æ³¨é‡Š</span>
supervised no
cluster-config-file /usr/local/redis1/etc/nodes-6379.conf <span class="token comment">#è‡ªåŠ¨ç”Ÿæˆ</span>

//å¤‡æ³¨ å¦‚æœåŠ ä¸Šäº†å¯†ç é‚£ä¹ˆä»å±èŠ‚ç‚¹å†é…ç½®çš„æ—¶å€™ä¹Ÿè¦åŠ ä¸Šå¯†ç 
masterauth <span class="token number">123456</span>
// å“¨å…µæ¨¡å¼çš„æ—¶å€™ä¹Ÿè¦ åŠ ä¸ŠéªŒè¯å¯†ç 
sentinel auth-pass mymaster <span class="token number">123456</span>



å…­ï¼šè¿›å…¥/usr/local/redis/binç›®å½• å¯åŠ¨    --raw valueæ‰èƒ½æ˜¾ç¤ºä¸­æ–‡
./redis-server redis.conf
./redis-cli -a <span class="token number">123456</span> --raw  

<span class="token comment"># ä»¥æŒ‚è½½å¯åŠ¨</span>
éœ€è¦æ³¨é‡Šdaemonize æˆ–è€… æ”¹æˆ no
<span class="token comment">#daemonize no //åå°å¯åŠ¨</span>
å¦‚æœæœ‰å¯†ç éœ€è¦æ·»åŠ  --requirepass <span class="token string">&quot;123456&quot;</span>

docker run -p <span class="token number">6379</span>:6379 --name redis  -v /usr/local/docker/redis/conf/redis.conf:/etc/redis/redis.conf -v /usr/local/docker/redis/data:/data -d redis redis-server /etc/redis/redis.conf  --requirepass <span class="token string">&quot;123456&quot;</span> --appendonly <span class="token function">yes</span> 

docker run -p <span class="token number">6379</span>:6379 --name redis  -v /home/data/redis/redis.conf:/etc/redis/redis.conf -v /home/data/redis/data:/data -d redis redis-server /etc/redis/redis.conf  --requirepass <span class="token string">&quot;123456&quot;</span> --appendonly <span class="token function">yes</span> 


<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> a <span class="token number">123</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> NOAUTH Authentication required. //è¯·è¾“å…¥å¯†ç 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> auth å¯†ç 
</code></pre></div><h2 id="redis-åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»"><a href="#redis-åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»" class="header-anchor">#</a> Redis åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»</h2> <p>å­—ç¬¦ä¸²ï¼ˆstringï¼‰ï¼Œåˆ—è¡¨ï¼ˆlistï¼‰ï¼Œé›†åˆï¼ˆsetï¼‰ï¼Œæœ‰åºé›†åˆï¼ˆzsetï¼‰ä»¥åŠå“ˆå¸Œï¼ˆhashï¼‰</p> <h3 id="redisobject"><a href="#redisobject" class="header-anchor">#</a> redisObject</h3> <p>åœ¨redisä¸­æ¯ä¸ªvalueéƒ½æ˜¯ä»¥ä¸€ä¸ªredisObjectç»“æ„æ¥è¡¨ç¤ºï¼Œå¦‚ä¸‹ï¼š</p> <p>typeå°±æ˜¯æŒ‡è¿™ä¸ªå¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œå³æˆ‘ä»¬å¹³å¸¸æ‰€è®¤çŸ¥çš„redisçš„äº”ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡TYPEå‘½ä»¤æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡çš„æ•°æ®ç±»å‹</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">redisObject</span><span class="token punctuation">{</span>
<span class="token comment">//ç±»å‹</span>
<span class="token keyword">unsigned</span> type<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//</span>
<span class="token comment">//ç¼–ç </span>
<span class="token keyword">unsigned</span> encoding<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment">//æŒ‡å‘åº•å±‚æ•°æ®ç»“æ„çš„æŒ‡é’ˆ</span>
<span class="token keyword">void</span> <span class="token operator">*</span>ptrï¼›
<span class="token comment">//å¼•ç”¨è®¡æ•°å™¨</span>
<span class="token keyword">int</span> refCountï¼›
<span class="token comment">//æœ€åä¸€æ¬¡çš„è®¿é—®æ—¶é—´</span>
<span class="token keyword">unsigned</span> lru<span class="token operator">:</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> a <span class="token number">123</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> a
string
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset b name jack age <span class="token number">12</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> b
<span class="token builtin class-name">hash</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush c <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> c
list
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd d <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> d
<span class="token builtin class-name">set</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd e <span class="token number">2</span> a <span class="token number">3</span> b
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> e
zset
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre></div><p>lruï¼š
æœ€åä¸€æ¬¡è®¿é—®è¯¥å¯¹è±¡çš„æ—¶é—´ï¼Œå¯ä»¥é€šè¿‡Object idletimeæŸ¥çœ‹å½“å‰æ—¶é—´è·ç¦»è¯¥é”®çš„lruçš„æ—¶é—´ï¼Œå³ç©ºè½¬æ—¶é—´å¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> cbd <span class="token number">123</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object idletime cbd
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">90</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object idletime cbd
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">95</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object idletime cbd
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">98</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get cbd //è®¿é—®äº†è¯¥é”®ï¼Œå› æ­¤lrué‡ç½®
<span class="token string">&quot;123&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object idletime cbd
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre></div><p>refCount:
å¼•ç”¨è®¡æ•°å™¨ï¼Œå½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶é—´ä¾¿å°†å®ƒçš„å€¼åˆå§‹åŒ–ä¸º1ï¼Œå½“å®ƒè¢«å…¶å®ƒç¨‹åºå¼•ç”¨ä¹‹æ—¶åˆ™åŠ 1ï¼Œä¸å†è¢«å¼•ç”¨åˆ™å‡1ï¼Œå½“å®ƒçš„å¼•ç”¨è®¡æ•°å€¼å˜ä¸º0æ—¶ï¼Œå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜å°±ä¼šè¢«é‡Šæ”¾ã€‚å› æ­¤å®ƒä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼Œå†…å­˜å›æ”¶çš„æ ‡å¿—ä»¥åŠç”¨äºå¯¹è±¡å…±äº«ã€‚
å¯¹è±¡å…±äº«ï¼šå½“æ–°å»ºçš„ä¸¤ä¸ªæˆ–å¤šä¸ªé”®éƒ½æ˜¯æ•´æ•°å€¼å¹¶ä¸”ç›¸åŒæ—¶ï¼Œåˆ™å®ƒä»¬çš„é”®ä¼šå…±äº«è¿™ä¸€ä¸ªå€¼å¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†…å­˜çš„åˆ†é…å’Œå›æ”¶ï¼Œå¯ä»¥ç”¨OBJECT REFCOUNTæŸ¥çœ‹å¼•ç”¨æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> first <span class="token number">123</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT refcount first
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> second <span class="token number">123</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT refcount second
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT refcount first
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre></div><h3 id="å­—ç¬¦ä¸²-string"><a href="#å­—ç¬¦ä¸²-string" class="header-anchor">#</a> å­—ç¬¦ä¸²ï¼ˆstringï¼‰</h3> <p>string æ˜¯ redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œæœ€å¤§ä¸Šé™æ˜¯1G å­—èŠ‚ã€‚ä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚</p> <p>string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚</p> <p>å­—ç¬¦ä¸²å¯¹è±¡çš„å€¼åº•å±‚éƒ½æ˜¯ç”±ç®€å•åŠ¨æ€å­—ç¬¦ä¸²å®ç°çš„,åœ¨redisä¸­ï¼Œ<strong>å®ƒå¹¶æœªä½¿ç”¨Cè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è‡ªå·±å®ç°äº†ä¸€ç§å«åšSDSçš„æ•°æ®ç»“æ„</strong>å®ƒçš„ç»“æ„è¡¨ç¤ºå¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">sdshdr</span><span class="token punctuation">{</span>
<span class="token comment">//è®°å½•bufæ•°ç»„ä¸­å·²ä½¿ç”¨å­—èŠ‚çš„é•¿åº¦</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token comment">//è®°å½•bufæ•°ç»„ä¸­å‰©ä½™ç©ºé—´çš„é•¿åº¦</span>
<span class="token keyword">int</span> free<span class="token punctuation">;</span>
<span class="token comment">//å­—èŠ‚æ•°ç»„ï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸²</span>
<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="image-20200506101817456.png" alt="image-20200506101817456"></p> <p>SDSæ‹¼æ¥:</p> <p>å½“Cå­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ä¹‹æ—¶ï¼Œå¦‚æœæœªäº‹å…ˆå¯¹å½“å‰å­—ç¬¦ä¸²çš„ç©ºé—´è¿›è¡Œè°ƒæ•´ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´å½“å‰å­—ç¬¦ä¸²çš„æ•°æ®æº¢å‡ºï¼Œå¯¼è‡´æ‹¼æ¥è¿‡æ¥çš„å­—ç¬¦ä¸²å†…å®¹è¢«æ„å¤–çš„ä¿®æ”¹ï¼Œè€ŒSDSåœ¨æ‹¼æ¥ä¹‹å‰ä¼šè¿›è¡Œè‡ªåŠ¨çš„è°ƒæ•´å’Œæ‰©å±•ï¼›å‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°ï¼Œåœ¨SDSæ‹¼æ¥å‘ç”Ÿä»¥åï¼Œå¦‚æœæ­¤æ—¶çš„lenå°äº1MBåˆ™å®ƒä¼šå¤šåˆ†é…å’Œlenå¤§å°ç›¸åŒçš„æœªä½¿ç”¨ç©ºé—´ï¼Œç”¨freeè¡¨ç¤ºï¼Œå¦‚æœå¤§äº1MBï¼Œåˆ™ä¼šåˆ†é…1MBçš„ä¸ºä½¿ç”¨ç©ºé—´ï¼›æƒ°æ€§ç©ºé—´é‡Šæ”¾ï¼Œå½“å­—ç¬¦ä¸²è¿›è¡Œç¼©çŸ­çš„æ—¶å€™ï¼Œç¨‹åºå¹¶ä¸ä¼šç«‹å³å›æ”¶ç©ºé—´ï¼ˆä¹Ÿå¯ä»¥è°ƒç”¨APIç«‹å³é‡Šæ”¾ï¼‰ï¼Œè€Œæ˜¯è®°å½•åˆ°freeä¹‹ä¸­ï¼Œä»¥ä¾¿äºååºæ‹¼æ¥çš„ä½¿ç”¨ã€‚</p> <p>ç¼–ç ï¼š
<strong>å­—ç¬¦ä¸²å¯¹è±¡çš„ç¼–ç å¯ä»¥æ˜¯intã€rawæˆ–è€…embstr</strong>ã€‚å…¶ä¸­intè¡¨ç¤ºæ•´å‹çš„å€¼ï¼Œembstrè¡¨ç¤ºå°äºç­‰äº39å­—èŠ‚çš„å­—ç¬¦ä¸²å€¼ï¼Œå‰©ä½™çš„å‡ç”¨rawè¡¨ç¤ºï¼Œå¹¶ä¸”intå’Œembstréƒ½æ˜¯åªè¯»çš„ï¼Œä¸€æ—¦å‘ç”Ÿäº†appendæ‹¼æ¥æ“ä½œï¼Œå³ä¼šè½¬æ¢ä¸ºrawã€‚å¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">12</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Object encoding age
<span class="token string">&quot;int&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> APPEND age <span class="token number">3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Object encoding age
<span class="token string">&quot;raw&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name jack
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Object encoding name
<span class="token string">&quot;embstr&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> APPEND name ja
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name 
<span class="token string">&quot;jackja&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Object encoding name
<span class="token string">&quot;raw&quot;</span>
</code></pre></div><p><strong>å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œ</strong>------m:æ‰¹é‡   nx:æ ¹æ®æ˜¯å¦å­˜åœ¨  ex:æœ‰æ•ˆæœŸ  rang:èŒƒå›´</p> <p><strong>set</strong> <strong>get</strong>--------åŸºæœ¬æ“ä½œ</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®key å¯¹åº”çš„å€¼ä¸ºstring ç±»å‹çš„valueã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name zhu
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;zhu&quot;</span>
</code></pre></div><p><strong>setnx</strong>--------æ ¹æ®æ˜¯å¦å­˜åœ¨keyè€Œåˆ›å»º</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®key å¯¹åº”çš„å€¼ä¸ºstring ç±»å‹çš„valueã€‚å¦‚æœkey å·²ç»å­˜åœ¨ï¼Œè¿”å›0ï¼Œnx æ˜¯not exist çš„æ„æ€ã€‚æˆåŠŸè¿”å›1

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setnx name zhuln
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name 
<span class="token string">&quot;zhu&quot;</span>
</code></pre></div><p><strong>setex</strong>--------è®¾ç½®æœ‰æ•ˆæœŸ</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®key å¯¹åº”çš„å€¼ä¸ºstring ç±»å‹çš„valueï¼Œå¹¶æŒ‡å®šæ­¤é”®å€¼å¯¹åº”çš„æœ‰æ•ˆæœŸã€‚ä¾‹å¦‚æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªwhk<span class="token operator">=</span> good çš„é”®å€¼å¯¹ï¼Œå¹¶æŒ‡å®šå®ƒçš„æœ‰æ•ˆæœŸæ˜¯10 ç§’,å¦‚æœä¸è®¾ç½®æœ‰æ•ˆæœŸä¼šæŠ¥é”™

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex whk <span class="token number">10</span> good
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get whk
<span class="token string">&quot;good&quot;</span>
//10s--------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get whk
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><p><strong>setrange</strong>--------æ›¿æ¢å­—ç¬¦ä¸²çš„æŸéƒ¨åˆ†</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®æŒ‡å®škey çš„value å€¼çš„å­å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚æˆ‘ä»¬å¸Œæœ›æ›¿æ¢nameæŸéƒ¨åˆ†å­—ç¬¦ï¼š

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name whk@qq.com
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setrange name <span class="token number">4</span> <span class="token number">126</span>.com
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">11</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@126.com&quot;</span>
å…¶ä¸­4æ˜¯æŒ‡ä»ä¸‹æ ‡ä¸º4ï¼ˆåŒ…å«4ï¼‰çš„å­—ç¬¦å¼€å§‹æ›¿æ¢ï¼Œä¸‹æ ‡ä»0å¼€å§‹ã€‚
</code></pre></div><p><strong>mset</strong>--------æ‰¹é‡è®¾ç½®å¤šä¸ªå­—ç¬¦ä¸²çš„å€¼</p> <p><strong>mget</strong>-------æ‰¹é‡è·å–å¤šä¸ªå­—ç¬¦ä¸²çš„å€¼  ä¸€æ¬¡è·å–å¤šä¸ªkey çš„å€¼ï¼Œå¦‚æœå¯¹åº”key ä¸å­˜åœ¨ï¼Œåˆ™å¯¹åº”è¿”å›nilã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä¸€æ¬¡è®¾ç½®å¤šä¸ªkey çš„å€¼ï¼ŒæˆåŠŸè¿”å›ok è¡¨ç¤ºæ‰€æœ‰çš„å€¼éƒ½è®¾ç½®äº†ï¼Œå¤±è´¥è¿”å›0 è¡¨ç¤ºæ²¡æœ‰ä»»ä½•å€¼è¢«è®¾ç½®ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset num1 <span class="token number">12</span> num2 <span class="token number">34</span> num3 <span class="token number">56</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget num1  num2  num3 num4 num5
<span class="token string">&quot;12&quot;</span>
<span class="token string">&quot;34&quot;</span>
<span class="token string">&quot;56&quot;</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><p><strong>msetnx</strong>--------æ‰¹é‡è®¾ç½®å¤šä¸ªå­—ç¬¦ä¸²çš„å€¼ï¼Œåªæœ‰ä¸å­˜åœ¨çš„å­—ç¬¦ä¸²å¯ä»¥è®¾ç½®</p> <div class="language-css extra-class"><pre class="language-css"><code>ä¸€æ¬¡è®¾ç½®å¤šä¸ªkey çš„å€¼ï¼ŒæˆåŠŸè¿”å›ok è¡¨ç¤ºæ‰€æœ‰çš„å€¼éƒ½è®¾ç½®äº†ï¼Œå¤±è´¥è¿”å›0 è¡¨ç¤ºæ²¡æœ‰ä»»ä½•å€¼è¢«è®¾ç½®ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–å·²ç»å­˜åœ¨çš„keyã€‚

127.0.0.1<span class="token punctuation">:</span>6379&gt; msetnx num3 55 num4 78
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 0
127.0.0.1<span class="token punctuation">:</span>6379&gt; get num4
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
127.0.0.1<span class="token punctuation">:</span>6379&gt; get num3
<span class="token string">&quot;56&quot;</span>
</code></pre></div><p><strong>getset</strong>--------è®¾ç½®keyå®Œäº†ç«‹åˆ»æŸ¥çœ‹å†å²çš„keyå€¼</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®key çš„å€¼ï¼Œå¹¶è¿”å›key çš„æ—§å€¼ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@126.com&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getset name whk@qq.com
<span class="token string">&quot;whk@126.com&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com&quot;</span>
</code></pre></div><p><strong>getrange</strong>--------è·å–æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»å·¦è¾¹ä¹Ÿå¯ä»¥ä»å³è¾¹å¼€å§‹</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è·å–æŒ‡å®škey çš„value å€¼çš„å­å­—ç¬¦ä¸²ï¼Œå·¦ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå³ä¸‹æ ‡ä»-1å¼€å§‹ï¼Œå½“ä¸‹æ ‡è¶…å‡ºå­—ç¬¦ä¸²é•¿åº¦æ—¶ï¼Œå°†é»˜è®¤ä¸ºæ˜¯åŒæ–¹å‘çš„æœ€å¤§ä¸‹æ ‡ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getrange name <span class="token number">0</span> <span class="token number">4</span>
<span class="token string">&quot;whk@q&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getrange name -1 -5
<span class="token string">&quot;&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getrange name  -5 -1
<span class="token string">&quot;q.com&quot;</span>
</code></pre></div><p><strong>incr</strong>--------å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢</p> <p><strong>decr</strong>--------å¯¹key çš„å€¼åšçš„æ˜¯å‡ä¸€æ“ä½œï¼Œdecr ä¸€ä¸ªä¸å­˜åœ¨keyï¼Œåˆ™è®¾ç½®key ä¸º-1</p> <div class="language-bash extra-class"><pre class="language-bash"><code>å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢ä¸€ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;10&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">11</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;11&quot;</span>
</code></pre></div><p><strong>incrby</strong>--------å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢æŒ‡å®šçš„å€¼,ä¸å­˜åœ¨ä¼šåˆ›å»ºå¹¶é»˜è®¤ä¸º0</p> <p><strong>decrby</strong>-------åŒdecrï¼Œå‡æŒ‡å®šå€¼ï¼Œå¯ä¸ºè´Ÿå€¼ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code>åŠ æŒ‡å®šå€¼ ï¼Œkey ä¸å­˜åœ¨æ—¶å€™ä¼šè®¾ç½®keyï¼Œå¹¶è®¤ä¸ºåŸæ¥çš„value æ˜¯ <span class="token number">0</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;11&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby age <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">16</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;16&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby age1 <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age1
<span class="token string">&quot;5&quot;</span> 
</code></pre></div><p><strong>append</strong>--------è¿½åŠ å¹¶è¿”å›æ–°å­—ç¬¦ä¸²å€¼çš„é•¿åº¦</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ç»™æŒ‡å®škey çš„å­—ç¬¦ä¸²å€¼è¿½åŠ value,è¿”å›æ–°å­—ç¬¦ä¸²å€¼çš„é•¿åº¦ã€‚     

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> append name .china
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">16</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com.china&quot;</span>
</code></pre></div><p><strong>strlen</strong>--------å–æŒ‡å®škey çš„value å€¼çš„é•¿åº¦ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code>å–æŒ‡å®škey çš„value å€¼çš„é•¿åº¦ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whk@qq.com.china&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> strlen name
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">16</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> strlen age1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;16&quot;</span>
</code></pre></div><h3 id="åˆ—è¡¨-list"><a href="#åˆ—è¡¨-list" class="header-anchor">#</a> åˆ—è¡¨ï¼ˆlistï¼‰</h3> <p>list æ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„ï¼Œç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œé“¾è¡¨çš„æœ€å¤§é•¿åº¦æ˜¯(2çš„32 æ¬¡æ–¹)ã€‚ä¸»è¦åŠŸèƒ½æ˜¯pushã€popã€è·å–ä¸€ä¸ªèŒƒå›´çš„æ‰€æœ‰å€¼ç­‰ç­‰ï¼Œæ“ä½œä¸­key å¯ä»¥ç†è§£ä¸ºé“¾è¡¨çš„åå­—ã€‚</p> <p>é“¾è¡¨æä¾›äº†èŠ‚ç‚¹é‡æ’ä»¥åŠèŠ‚ç‚¹é¡ºåºè®¿é—®çš„èƒ½åŠ›ï¼Œredisä¸­çš„åˆ—è¡¨å¯¹è±¡ä¸»è¦æ˜¯ç”±å‹ç¼©åˆ—è¡¨å’ŒåŒç«¯é“¾è¡¨å®ç°ã€‚</p> <p>åŒç«¯é“¾è¡¨ï¼ˆlinkedlistï¼‰ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code>type <span class="token keyword">struct</span> <span class="token class-name">list</span><span class="token punctuation">{</span>
<span class="token comment">//è¡¨å¤´èŠ‚ç‚¹</span>
listNode <span class="token operator">*</span>head<span class="token punctuation">;</span>
<span class="token comment">//è¡¨å°¾èŠ‚ç‚¹</span>
listNode <span class="token operator">*</span>tail<span class="token punctuation">;</span>
<span class="token comment">//åŒ…å«çš„èŠ‚ç‚¹æ€»æ•°</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> len<span class="token punctuation">;</span>
<span class="token comment">//ä¸€äº›æ“ä½œå‡½æ•° dup free match...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/redis/other/image-20200506104035296.png" alt="image-20200506104035296"></p> <p>å…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªprevæŒ‡é’ˆå’Œä¸€ä¸ªnextæŒ‡é’ˆï¼Œè€ŒèŠ‚ç‚¹ä¸­çš„valueåˆ™æ˜¯åˆ—è¡¨å¯¹è±¡å…·ä½“çš„å€¼ã€‚</p> <p>å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code>type <span class="token keyword">struct</span> <span class="token class-name">ziplist</span><span class="token punctuation">{</span>
<span class="token comment">//æ•´ä¸ªå‹ç¼©åˆ—è¡¨çš„å­—èŠ‚æ•°</span>
<span class="token class-name">uint32_t</span> zlbytes<span class="token punctuation">;</span>
<span class="token comment">//è®°å½•å‹ç¼©åˆ—è¡¨å°¾èŠ‚ç‚¹åˆ°å¤´ç»“ç‚¹çš„å­—èŠ‚æ•°ï¼Œç›´æ¥å¯ä»¥æ±‚èŠ‚ç‚¹çš„åœ°å€</span>
<span class="token class-name">uint32_t</span> zltail_offset<span class="token punctuation">;</span>
<span class="token comment">//è®°å½•äº†èŠ‚ç‚¹æ•°ï¼Œæœ‰å¤šç§ç±»å‹ï¼Œé»˜è®¤å¦‚ä¸‹</span>
<span class="token class-name">uint16_t</span> zllength<span class="token punctuation">;</span>
<span class="token comment">//èŠ‚ç‚¹</span>
åˆ—è¡¨èŠ‚ç‚¹ entryX<span class="token punctuation">;</span>
</code></pre></div><p><img src="/redis/other/image-20200506104530919.png" alt="image-20200506104530919"></p> <p>è€Œæ¯ä¸ªåˆ—è¡¨èŠ‚ç‚¹ä¸­ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ é¡¹ï¼šprevious_entry_lengthï¼Œè®°å½•äº†å‹ç¼©åˆ—è¡¨ä¸­å‰ä¸€èŠ‚ç‚¹çš„å­—èŠ‚é•¿åº¦ï¼Œå½“å°äº254å­—èŠ‚æ—¶ï¼Œå®ƒçš„é•¿åº¦ä¸º1å­—èŠ‚ï¼Œå½“å¤§äº254å­—èŠ‚æ—¶ï¼Œé•¿åº¦ä¸º5å­—èŠ‚ä¸”å4å­—èŠ‚ä¿å­˜çœŸæ­£çš„é•¿åº¦ï¼Œç”¨äºè¡¨å°¾å‘è¡¨å¤´éå†ï¼›contentï¼ŒèŠ‚ç‚¹æ‰€å­˜å‚¨çš„å†…å®¹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„æˆ–è€…æ•´æ•°ï¼›encodingï¼Œè®°å½•contentå±æ€§ä¸­æ‰€ä¿å­˜çš„æ•°æ®ç±»å‹ä»¥åŠé•¿åº¦ã€‚</p> <p>ç¼–ç ï¼š
å½“åˆ—è¡¨å¯¹è±¡æ‰€å­˜å‚¨çš„å­—ç¬¦ä¸²å…ƒç´ é•¿åº¦å°äº64å­—èŠ‚å¹¶ä¸”å…ƒç´ æ•°é‡å°äº512ä¸ªæ—¶ï¼Œä½¿ç”¨ziplistç¼–ç ï¼Œå¦åˆ™ä½¿ç”¨linkedlistç¼–ç ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush <span class="token function">zip</span> <span class="token string">&quot;hello&quot;</span> <span class="token string">&quot;world&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT encoding <span class="token function">zip</span>
<span class="token string">&quot;ziplist&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush <span class="token function">zip</span> <span class="token string">&quot;fffffffffffffffffffffzzzzzzzzzzzzzzzzzzzzzzzzzzzzzkkkkkkkkkkkkkkkkkkkkkkkkkcccccccccc&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT encoding <span class="token function">zip</span>
<span class="token string">&quot;linkedlist&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre></div><p><strong>åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ</strong>------- l:li/å·¦ä¾§  r:å³ä¾§</p> <p><strong>lpush</strong>--------åœ¨å·¦ä¾§æ·»åŠ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åœ¨key å¯¹åº”list çš„å¤´éƒ¨æ·»åŠ å­—ç¬¦ä¸²å…ƒç´ <span class="token punctuation">(</span>left<span class="token punctuation">)</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush testlist <span class="token string">&quot;hello&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;world&quot;</span>
</code></pre></div><p><strong>rpush</strong>--------åœ¨å³ä¾§æ·»åŠ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åœ¨key å¯¹åº”list çš„å°¾éƒ¨æ·»åŠ å­—ç¬¦ä¸²å…ƒç´ <span class="token punctuation">(</span>right<span class="token punctuation">)</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush testlist <span class="token string">&quot;!&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
</code></pre></div><p><strong>linsert</strong>--------ç‰¹å®šä½ç½®ä¹‹å‰æˆ–ä¹‹åæ·»åŠ å­—ç¬¦ä¸²å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åœ¨key å¯¹åº”list çš„ç‰¹å®šä½ç½®ä¹‹å‰æˆ–ä¹‹åæ·»åŠ å­—ç¬¦ä¸²å…ƒç´ 
LINSERT key BEFORE<span class="token operator">|</span>AFTER pivot value

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> linsert testlist before <span class="token string">&quot;word&quot;</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
</code></pre></div><p><strong>lset</strong>--------ä¿®æ”¹æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ å€¼(ä¸‹æ ‡ä»0 å¼€å§‹)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®list ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ å€¼<span class="token punctuation">(</span>ä¸‹æ ‡ä»0 å¼€å§‹<span class="token punctuation">)</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lset testlist <span class="token number">0</span> <span class="token string">&quot;Say&quot;</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">4</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
</code></pre></div><p><strong>lrem</strong>--------åˆ é™¤æŒ‡å®šå…ƒç´ å€¼</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä»key å¯¹åº”list ä¸­åˆ é™¤count ä¸ªå’Œvalue ç›¸åŒçš„å…ƒç´ ã€‚count<span class="token operator">&gt;</span><span class="token number">0</span> æ—¶ï¼ŒæŒ‰ä»å¤´åˆ°å°¾çš„é¡ºåºåˆ é™¤<span class="token punctuation">;</span>count<span class="token operator">&lt;</span><span class="token number">0</span> æ—¶ï¼ŒæŒ‰ä»å°¾åˆ°å¤´çš„é¡ºåºåˆ é™¤<span class="token punctuation">;</span>count<span class="token operator">&lt;</span><span class="token number">0</span> æ—¶ï¼ŒæŒ‰ä»å°¾åˆ°å¤´çš„é¡ºåºåˆ é™¤ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">6</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;2010&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;2010&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;2010&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem testlist <span class="token number">2</span> <span class="token string">&quot;2010&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">6</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2010&quot;</span>
</code></pre></div><p><strong>ltrim</strong>--------ä¿ç•™æŒ‡å®šä¸‹æ ‡ çš„å€¼èŒƒå›´å†…çš„æ•°æ®</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä¿ç•™æŒ‡å®škey çš„å€¼èŒƒå›´å†…çš„æ•°æ®

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2010&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ltrim testlist <span class="token number">0</span> <span class="token number">2</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
</code></pre></div><p><strong>lpop</strong>--------ä»list çš„å¤´éƒ¨åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä»list çš„å¤´éƒ¨åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Say&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop testlist 
<span class="token string">&quot;Say&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
</code></pre></div><p><strong>rpop</strong>--------ä»list çš„å°¾éƒ¨åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä»list çš„å°¾éƒ¨åˆ é™¤å…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;word&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpop testlist
<span class="token string">&quot;word&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
</code></pre></div><p><strong>rpoplpush</strong>--------ä»ç¬¬ä¸€ä¸ªlist çš„å°¾éƒ¨ç§»é™¤å…ƒç´ å¹¶æ·»åŠ åˆ°ç¬¬äºŒä¸ªlist çš„å¤´éƒ¨ ï¼ˆåŸå­æ€§ï¼‰</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä»ç¬¬ä¸€ä¸ªlist çš„å°¾éƒ¨ç§»é™¤å…ƒç´ å¹¶æ·»åŠ åˆ°ç¬¬äºŒä¸ªlist çš„å¤´éƒ¨,æœ€åè¿”å›è¢«ç§»é™¤çš„å…ƒç´ å€¼ï¼Œæ•´ä¸ªæ“ä½œæ˜¯åŸå­çš„.å¦‚æœç¬¬ä¸€ä¸ªlist æ˜¯ç©ºæˆ–è€…ä¸å­˜åœ¨è¿”å›nil

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist2 <span class="token number">0</span> <span class="token number">1</span>
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpoplpush testlist testlist2
<span class="token string">&quot;beautiful&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist <span class="token number">0</span> <span class="token number">1</span>
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist2 <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
</code></pre></div><p><strong>lindex</strong>--------è¿”å›åˆ—è¡¨æŒ‡å®šä½ç½®å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›åç§°ä¸ºkey çš„list ä¸­index ä½ç½®çš„å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist2 <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> index testlist2 <span class="token number">1</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR unknown <span class="token builtin class-name">command</span> <span class="token string">'index'</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex testlist2 <span class="token number">1</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex testlist2 <span class="token number">0</span>
<span class="token string">&quot;beautiful&quot;</span>
</code></pre></div><p><strong>llen</strong>--------è¿”å›åˆ—è¡¨é•¿åº¦</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›key å¯¹åº”list çš„é•¿åº¦

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange testlist2 <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;beautiful&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> llen testlist2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><h3 id="é›†åˆ-set"><a href="#é›†åˆ-set" class="header-anchor">#</a> é›†åˆï¼ˆsetï¼‰</h3> <p>set æ˜¯é›†åˆï¼Œå’Œæˆ‘ä»¬æ•°å­¦ä¸­çš„é›†åˆæ¦‚å¿µç›¸ä¼¼ï¼Œå¯¹é›†åˆçš„æ“ä½œæœ‰æ·»åŠ åˆ é™¤å…ƒç´ ï¼Œæœ‰å¯¹å¤šä¸ªé›†åˆæ±‚äº¤å¹¶å·®ç­‰æ“ä½œï¼Œæ“ä½œä¸­key ç†è§£ä¸ºé›†åˆçš„åå­—ã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ã€‚set å…ƒç´ æœ€å¤§å¯ä»¥åŒ…å«(2 çš„32 æ¬¡æ–¹)ä¸ªå…ƒç´ ã€‚</p> <p>æ•´æ•°é›†åˆä¸å­—å…¸ï¼š
é›†åˆå¯¹è±¡çš„ç¼–ç å¯ä»¥æ˜¯æ•´æ•°é›†åˆï¼ˆintsetï¼‰æˆ–è€…å­—å…¸ï¼ˆhashtableï¼‰ã€‚</p> <p>æ•´æ•°é›†åˆç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">intset</span><span class="token punctuation">{</span>
<span class="token comment">//ç¼–ç æ–¹å¼</span>
<span class="token class-name">uint32_t</span> encoding<span class="token punctuation">;</span>
<span class="token comment">//å…ƒç´ æ•°é‡</span>
<span class="token class-name">uint32_t</span> length<span class="token punctuation">;</span>
<span class="token comment">//å­˜å‚¨å…ƒç´ çš„æ•°ç»„</span>
<span class="token class-name">int8_t</span> contents<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ•´æ•°é›†åˆçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯contentsæ•°ç»„çš„ä¸€ä¸ªæ•°ç»„é¡¹ï¼Œå„ä¸ªé¡¹åœ¨æ•°ç»„ä¸­æŒ‰å€¼å¾—<strong>å¤§å°ä»å°åˆ°å¤§æœ‰åºæ’åˆ—</strong>ï¼Œå¹¶ä¸”<strong>ä¸åŒ…å«é‡å¤çš„é¡¹</strong>ã€‚<strong>contentsæ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹ç”±encodingå†³å®šï¼Œå½“æ–°åŠ å…¥å…ƒç´ ä¹‹æ—¶ï¼Œå¦‚æœå…ƒç´ çš„ç¼–ç å¤§äºcontentsæ˜¯æ•°ç»„çš„ç¼–ç ï¼Œåˆ™ä¼šå°†æ‰€æœ‰å…ƒç´ çš„ç¼–ç å‡çº§ä¸ºæ–°åŠ å…¥å…ƒç´ çš„ç¼–ç ï¼Œç„¶åå†æ’å…¥ã€‚ç¼–ç ä¸ä¼šå‘ç”Ÿé™çº§ã€‚</strong></p> <p><strong>rehash</strong> å½“å“ˆå¸Œè¡¨çš„å¤§å°ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå°±å¯èƒ½ä¼šæœ‰ä¸¤ä¸ªæˆ–è€…ä»¥ä¸Šæ•°é‡çš„é”®è¢«åˆ†é…åˆ°äº†å“ˆå¸Œè¡¨æ•°ç»„ä¸Šçš„åŒä¸€ä¸ªç´¢å¼•ä¸Šï¼Œäºæ˜¯å°±å‘ç”Ÿå†²çªï¼ˆcollisionï¼‰ï¼Œåœ¨Redisä¸­è§£å†³å†²çªçš„åŠæ³•æ˜¯<strong>é“¾æ¥æ³•[æ‹‰é“¾æ³•|é“¾åœ°å€æ³•]ï¼ˆseparate chainingï¼‰</strong>ã€‚å¸¸è§çš„è§£å†³hashå†²çªçš„æ–¹æ³•è¿˜æœ‰<strong>å¼€æ”¾å®šå€æ³•,å†æ•£åˆ—,å…¬å…±æº¢å‡ºåŒºã€‚</strong></p> <p>å­—å…¸çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dict</span><span class="token punctuation">{</span>
<span class="token comment">//ç±»å‹ç‰¹å®šå‡½æ•°</span>
dictType <span class="token operator">*</span>type<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨ ä¸¤ä¸ªï¼Œä¸€ä¸ªç”¨äºå®æ—¶å­˜å‚¨ï¼Œä¸€ä¸ªç”¨äºrehash</span>
dictht ht<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//rehashç´¢å¼• æ•°æ®è¿ç§»æ—¶ä½¿ç”¨</span>
<span class="token keyword">unsigned</span> rehashidx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è€Œå“ˆå¸Œè¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dictht</span><span class="token punctuation">{</span>
<span class="token comment">//å“ˆå¸Œè¡¨æ•°ç»„</span>
dictEntry <span class="token operator">*</span><span class="token operator">*</span>table<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨å¤§å°</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> size<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨æ©ç ï¼Œæ€»æ˜¯ç­‰äºsize-1ï¼Œå­˜å‚¨æ—¶è®¡ç®—ç´¢å¼•å€¼</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> sizemask<span class="token punctuation">;</span>
<span class="token comment">//å·²æœ‰å…ƒç´ æ•°é‡</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> used<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/redis/other/image-20200506143025131.png" alt="image-20200506143025131"></p> <p>å…¶ä¸­é”®å€¼å¯¹éƒ½ä¿å­˜åœ¨èŠ‚ç‚¹dictEntryä¹‹ä¸­ï¼Œå¹¶ä¸”é€šè¿‡æ‹‰é“¾æ³•è§£å†³å“ˆå¸Œå†²çªï¼Œå­˜å‚¨æ—¶é€šè¿‡<strong>MurmurHashç®—æ³•</strong>æ¥è®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œèƒ½å¤Ÿæ›´å¥½çš„æä¾›éšæœºåˆ†å¸ƒæ€§ä¸”é€Ÿåº¦ä¹Ÿå¿«ã€‚æ‰©å®¹æ—¶æ—¶é‡‡ç”¨æ¸è¿›å¼çš„rehashï¼Œé‡‡ç”¨åˆ†è€Œæ²»ä¹‹çš„æ–¹æ³•ï¼Œé€šè¿‡æ”¹å˜rehashidxçš„å€¼ï¼Œæ¥ä¸€ä¸ªä¸ªå°†å…ƒç´ ç§»åŠ¨åˆ°ht[1]ä¸­ï¼Œå®Œæˆä»¥åå°†ht[1]å˜ä¸ºht[0]ï¼ŒåŸå…ˆçš„ht[0]å˜ä¸ºht[1]ï¼ŒåŒæ—¶å°†redhashidxç½®ä¸º-1ã€‚</p> <div class="language-c++ extra-class"><pre class="language-text"><code>unsigned int murMurHash(const void *key, int len)
    {
    	const unsigned int m = 0x5bd1e995;
    	const int r = 24;
        const int seed = 97;
    	unsigned int h = seed ^ len;
    	// Mix 4 bytes at a time into the hash
    	const unsigned char *data = (const unsigned char *)key;
    	while(len &gt;= 4)
    	{
    		unsigned int k = *(unsigned int *)data;
    		k *= m; 
    		k ^= k &gt;&gt; r; 
    		k *= m; 
    		h *= m; 
    		h ^= k;
    		data += 4;
    		len -= 4;
    	}
    	// Handle the last few bytes of the input array
    	switch(len)
    	{
    	    case 3: h ^= data[2] &lt;&lt; 16;
    	    case 2: h ^= data[1] &lt;&lt; 8;
    	    case 1: h ^= data[0];
            h *= m;
    	};
    	// Do a few final mixes of the hash to ensure the last few
    	// bytes are well-incorporated.
    	h ^= h &gt;&gt; 13;
    	h *= m;
    	h ^= h &gt;&gt; 15;
    	return h;
    }
</code></pre></div><p>ç¼–ç ï¼š
å½“é›†åˆå¯¹è±¡æ‰€ä¿å­˜çš„å…ƒç´ éƒ½æ˜¯æ•´æ•°å€¼ä¸”å…ƒç´ æ•°é‡ä¸è¶…è¿‡512ä¸ªæ—¶ï¼Œä½¿ç”¨intsetç¼–ç ï¼Œå¦åˆ™ä½¿ç”¨hashtableç¼–ç ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd cloud <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object encoding cloud
<span class="token string">&quot;intset&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd cloud a b c
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> object encoding cloud
<span class="token string">&quot;hashtable&quot;</span>
</code></pre></div><p><strong>é›†åˆçš„åŸºæœ¬æ“ä½œ</strong>------- add:æ·»åŠ   rem:åˆ é™¤ pop:éšæœºåˆ é™¤  diff:å·®é›† inter:äº¤é›† union:å¹¶é›† store:ä¿å­˜ move:ç§»åŠ¨</p> <p><strong>sadd</strong>-------å‘set ä¸­æ·»åŠ å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>å‘set ä¸­æ·»åŠ å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd testset <span class="token string">'Hello'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd testset <span class="token string">'everybody'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
</code></pre></div><p><strong>srem</strong>------- åˆ é™¤set ä¸­çš„å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åˆ é™¤set ä¸­çš„å…ƒç´ member

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srem testset <span class="token string">'Hello'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
</code></pre></div><p><strong>spop</strong>------- éšæœºåˆ é™¤set ä¸­ä¸€ä¸ªå…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>éšæœºåˆ é™¤set ä¸­ä¸€ä¸ªå…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;is&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop testset
<span class="token string">&quot;is&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
</code></pre></div><p><strong>sdiff</strong>------- è¿”å›ä¸ç¬¬ä¸€ä¸ªkey çš„å·®é›†</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›ä¸ç¬¬ä¸€ä¸ªkey çš„å·®é›†

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd testset1 <span class="token string">'OK'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd testset1 <span class="token string">'!!'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> testset testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> testset1 testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
</code></pre></div><p><strong>sdiffstore</strong>------- è¿”å›ä¸ç¬¬ä¸€ä¸ªkey çš„å·®é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªdestination</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›ä¸ç¬¬ä¸€ä¸ªkey çš„å·®é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªkey
sdffstore destination key key2

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> testset1 testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sdiffstore testset2 testset1 testset
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
</code></pre></div><p><strong>sinter</strong>------- è¿”å›æ‰€æœ‰ç»™å®škey çš„äº¤é›†</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æ‰€æœ‰ç»™å®škey çš„äº¤é›†

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sinter testset testset1 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> testset testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
</code></pre></div><p><strong>sinterstore</strong>------- è¿”å›æ‰€æœ‰äº¤é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªkey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æ‰€æœ‰äº¤é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªkey
sinterstore destination key key2

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sinter testset testset1 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> testset testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sinterstore testset3 testset testset1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset3
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
</code></pre></div><p><strong>sunion</strong>------- è¿”å›æ‰€æœ‰çš„å¹¶é›†</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æ‰€æœ‰çš„å¹¶é›†

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset3
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sunion testset3 testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
</code></pre></div><p><strong>sunionstore</strong>------- è¿”å›æ‰€æœ‰å¹¶é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªkey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æ‰€æœ‰å¹¶é›†ï¼Œå¹¶å°†ç»“æœå­˜ä¸ºå¦ä¸€ä¸ªkey
sunionstore destination key key2

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sunion testset3 testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sunionstore testset4 testset3 testset2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset4
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
</code></pre></div><p><strong>smove</strong>------- ä»ç¬¬ä¸€ä¸ªå¯¹åº”çš„set ä¸­ç§»é™¤member å¹¶æ·»åŠ åˆ°ç¬¬äºŒä¸ªå¯¹åº”set ä¸­</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ä»ç¬¬ä¸€ä¸ªå¯¹åº”çš„set ä¸­ç§»é™¤member å¹¶æ·»åŠ åˆ°ç¬¬äºŒä¸ªå¯¹åº”set ä¸­

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smove testset1 testset2 <span class="token string">&quot;!!&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
</code></pre></div><p><strong>scard</strong>------- è¿”å›set çš„å…ƒç´ ä¸ªæ•°</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›set çš„å…ƒç´ ä¸ªæ•°

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;!!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard testset2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><p><strong>sismember</strong>------- æµ‹è¯•member æ˜¯å¦æ˜¯set çš„å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>æµ‹è¯•member æ˜¯å¦æ˜¯set çš„å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember testset1 OK
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember testset1 ok
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember testset1 <span class="token string">&quot;OK&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember testset1 <span class="token string">'OK'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><p><strong>srandmember</strong>------- éšæœºè¿”å›set çš„ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¸åˆ é™¤å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>éšæœºè¿”å›set çš„ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¸åˆ é™¤å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;Everybody&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srandmember testset1
<span class="token string">&quot;!&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers testset1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;OK&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;Everybody&quot;</span>
</code></pre></div><h3 id="æœ‰åºé›†åˆ-zset"><a href="#æœ‰åºé›†åˆ-zset" class="header-anchor">#</a> æœ‰åºé›†åˆï¼ˆzsetï¼‰</h3> <p>æœ‰åºé›†åˆæ˜¯é›†åˆçš„å‡çº§ç‰ˆï¼Œä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚<strong>æœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚</strong></p> <p>æœ‰åºé›†åˆçš„ç¼–ç å¯ä»¥æ˜¯å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰æˆ–è€…è·³è·ƒè¡¨ï¼ˆskiplistï¼‰ã€‚
è·³è·ƒè¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">zskiplist</span><span class="token punctuation">{</span>
<span class="token comment">//è·³è·ƒè¡¨çš„å¤´ç»“ç‚¹</span>
zskiplistNode header<span class="token punctuation">;</span>
<span class="token comment">//å°¾èŠ‚ç‚¹</span>
zskiplistNode tail<span class="token punctuation">;</span>
<span class="token comment">//è·³è·ƒè¡¨ä¸­å±‚æ•°æœ€å¤§çš„èŠ‚ç‚¹çš„å±‚æ•°ï¼ˆä¸åŒ…æ‹¬å¤´ç»“ç‚¹ï¼‰</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> level<span class="token punctuation">;</span>
<span class="token comment">//è·³è·ƒè¡¨é•¿åº¦ï¼ˆä¸åŒ…æ‹¬å¤´èŠ‚ç‚¹ï¼‰</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span> length<span class="token punctuation">;</span>
</code></pre></div><p>å…¶ä¸­çš„è·³è·ƒè¡¨èŠ‚ç‚¹ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span><span class="token punctuation">{</span>
<span class="token comment">//åé€€æŒ‡é’ˆ</span>
<span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token operator">*</span>backward<span class="token punctuation">;</span>
<span class="token comment">//åˆ†å€¼</span>
<span class="token keyword">double</span> score<span class="token punctuation">;</span>
<span class="token comment">//æˆå‘˜å¯¹è±¡</span>
robj <span class="token operator">*</span>obj<span class="token punctuation">;</span>
<span class="token comment">//å±‚</span>
<span class="token keyword">struct</span> <span class="token class-name">zskiplistLevel</span><span class="token punctuation">{</span>
<span class="token comment">//å‰è¿›æŒ‡é’ˆ</span>
<span class="token keyword">struct</span> <span class="token class-name">zskiplistNode</span> <span class="token operator">*</span>forward<span class="token punctuation">;</span>
<span class="token comment">//è·¨åº¦</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span> span<span class="token punctuation">;</span>
<span class="token punctuation">}</span>level<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æ¯ä¸ªlevelæ•°ç»„å¯ä»¥åŒ…å«å¤šä¸ªå…ƒç´ ï¼Œé‡Œé¢å­˜å‚¨æœ‰æŒ‡å‘å…¶ä»–èŠ‚ç‚¹ï¼ˆä¸æ˜¯ä¸‹ä¸€ä¸ªï¼‰çš„æŒ‡é’ˆï¼Œå¯ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦ï¼›è·¨åº¦ç”¨äºè¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæ’ä½æ—¶ä½¿ç”¨ï¼›åé€€æŒ‡é’ˆä¾æ¬¡çš„ä»åå‘å‰è®¿é—®ï¼›åˆ†å€¼ç”¨äºæ’åºï¼›æˆå‘˜æ˜¯ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²å¯¹è±¡çš„æŒ‡é’ˆã€‚</p> <p>ç¼–ç ï¼š
å½“å…ƒç´ æ•°é‡å°äº128ä¸ªå¹¶ä¸”æ‰€æœ‰å…ƒç´ æˆå‘˜çš„é•¿åº¦éƒ½å°äº64å­—èŠ‚ä¹‹æ—¶ä½¿ç”¨ziplistç¼–ç ï¼Œå¦åˆ™ä½¿ç”¨skiplistç¼–ç ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd <span class="token builtin class-name">test</span> <span class="token number">2</span> a <span class="token number">3</span> b
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT encoding <span class="token builtin class-name">test</span>
<span class="token string">&quot;ziplist&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd <span class="token builtin class-name">test</span> <span class="token number">4</span> ffffffffffffffffffffffffffffffffffffffffffffffffffffffffqwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> OBJECT encoding <span class="token builtin class-name">test</span>
<span class="token string">&quot;skiplist&quot;</span>
</code></pre></div><p><strong>æœ‰åºé›†åˆçš„åŸºæœ¬æ“ä½œ</strong></p> <p><strong>zadd</strong>-------å‘zset ä¸­æ·»åŠ å…ƒç´ memberï¼Œscore ç”¨äºæ’åºã€‚å¦‚æœè¯¥å…ƒç´ å·²ç»å­˜åœ¨ï¼Œåˆ™æ ¹æ®score æ›´æ–°è¯¥å…ƒç´ çš„é¡ºåºã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code>å‘zset ä¸­æ·»åŠ å…ƒç´ memberï¼Œscore ç”¨äºæ’åºã€‚å¦‚æœè¯¥å…ƒç´ å·²ç»å­˜åœ¨ï¼Œåˆ™æ ¹æ®score æ›´æ–°è¯¥å…ƒç´ çš„é¡ºåºã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd testzset  <span class="token number">1</span> <span class="token string">'one'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd testzset <span class="token number">2</span> <span class="token string">'two'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd testzset <span class="token number">3</span> <span class="token string">'two'</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><p><strong>zrem</strong>-------åˆ é™¤zset ä¸­çš„å…ƒç´ member</p> <div class="language-bash extra-class"><pre class="language-bash"><code>åˆ é™¤zset ä¸­çš„å…ƒç´ member

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrem testzset one
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><p><strong>zincrby</strong>-------</p> <div class="language-bash extra-class"><pre class="language-bash"><code>å¦‚æœzset ä¸­å·²ç»å­˜åœ¨å…ƒç´ memberï¼Œåˆ™å¢åŠ è¯¥å…ƒç´ çš„scoreï¼Œnew_score<span class="token operator">=</span>old_score+zincrby_scoreï¼›å¦åˆ™å‘é›†åˆä¸­æ·»åŠ è¯¥å…ƒç´ ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zincrby testzset <span class="token number">5</span> <span class="token string">&quot;two&quot;</span>
<span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zincrby testzset <span class="token number">5</span> <span class="token string">&quot;four&quot;</span>
<span class="token string">&quot;5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
</code></pre></div><p><strong>zrank</strong>-------è¿”å›æŸä¸ªå…ƒç´ çš„æ’å**ï¼ˆæŒ‰score ä»å°åˆ°å¤§æ’ï¼‰**ï¼Œå³ä¸‹æ ‡</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æŸä¸ªå…ƒç´ çš„æ’åï¼ˆæŒ‰score ä»å°åˆ°å¤§æ’ï¼‰ï¼Œå³ä¸‹æ ‡

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrank testzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrank testzset <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrank testzset <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</code></pre></div><p><strong>zrevrank</strong>-------è¿”å›zsetä¸­å…ƒç´ çš„æ’å  <strong>(æŒ‰score ä»å¤§åˆ°å°æ’åº)</strong>ï¼Œå³ä¸‹æ ‡</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›zsetä¸­å…ƒç´ çš„æ’å<span class="token punctuation">(</span>æŒ‰score ä»å¤§åˆ°å°æ’åº<span class="token punctuation">)</span>ï¼Œå³ä¸‹æ ‡

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrank testzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrank testzset <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrank testzset <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><p><strong>zrevrange</strong>-------è¿”å›**ï¼ˆæŒ‰score ä»å¤§åˆ°å°æ’åºï¼‰** ä»start åˆ°end çš„æ‰€æœ‰å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›ï¼ˆæŒ‰score ä»å¤§åˆ°å°æ’åºï¼‰ ä»start åˆ°end çš„æ‰€æœ‰å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange testzset <span class="token number">0</span> <span class="token number">1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
</code></pre></div><p><strong>zrangebyscore</strong>-------è¿”å›é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">2</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrangebyscore testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
</code></pre></div><p><strong>zcount</strong>-------è¿”å›é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„æ•°é‡</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„æ•°é‡

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcount testzset <span class="token number">3</span> <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre></div><p><strong>zcard</strong>-------è¿”å›é›†åˆä¸­å…ƒç´ ä¸ªæ•°zcount</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›é›†åˆä¸­å…ƒç´ ä¸ªæ•°

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcard testzset
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
</code></pre></div><p><strong>zscore</strong>-------è¿”å›ç»™å®šå…ƒç´ å¯¹åº”çš„score</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›ç»™å®šå…ƒç´ å¯¹åº”çš„score

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zscore testzset <span class="token string">&quot;three&quot;</span>
<span class="token string">&quot;3&quot;</span>
</code></pre></div><p><strong>zremrangebyrank</strong>-------åˆ é™¤é›†åˆä¸­æ’ååœ¨ç»™å®šåŒºé—´ï¼ˆä¸‹æ ‡ï¼‰çš„å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åˆ é™¤é›†åˆä¸­æ’ååœ¨ç»™å®šåŒºé—´ï¼ˆä¸‹æ ‡ï¼‰çš„å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zremrangebyrank testzset <span class="token number">2</span> <span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
</code></pre></div><p><strong>zremrangebyscore</strong>-------åˆ é™¤é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ </p> <div class="language-bash extra-class"><pre class="language-bash"><code>åˆ é™¤é›†åˆä¸­score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;four&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zremrangebyscore testzset <span class="token number">3</span> <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange testzset <span class="token number">0</span> <span class="token number">5</span> withscores
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="å“ˆå¸Œ-hash"><a href="#å“ˆå¸Œ-hash" class="header-anchor">#</a> å“ˆå¸Œï¼ˆhashï¼‰</h3> <p>Redis hash æ˜¯ä¸€ä¸ªé”®å€¼(key=&gt;value)å¯¹é›†åˆã€‚æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p> <p>ç›¸è¾ƒäºå°†å¯¹è±¡çš„æ¯ä¸ªå­—æ®µå­˜æˆå•ä¸ªstring ç±»å‹ã€‚å°†ä¸€ä¸ªå¯¹è±¡å­˜å‚¨åœ¨hash ç±»å‹ä¸­ä¼šå ç”¨æ›´å°‘çš„å†…å­˜ï¼Œçœå†…å­˜çš„åŸå› æ˜¯æ–°å»ºä¸€ä¸ªhash å¯¹è±¡æ—¶å¼€å§‹æ˜¯zipmapï¼ˆåˆç§°ä¸ºsmall hashï¼‰æ¥å­˜å‚¨çš„ã€‚å½“field æˆ–è€…valueçš„å¤§å°è¶…å‡ºä¸€å®šé™åˆ¶åï¼ŒRedis ä¼šåœ¨å†…éƒ¨è‡ªåŠ¨å°†zipmap æ›¿æ¢æˆæ­£å¸¸çš„hash å®ç°. è¿™ä¸ªé™åˆ¶å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾å®šï¼š
hash-max-zipmap-entries 64 #é…ç½®å­—æ®µæœ€å¤š64 ä¸ª
hash-max-zipmap-value 512 #é…ç½®value æœ€å¤§ä¸º512 å­—èŠ‚</p> <p>å“ˆå¸Œå¯¹è±¡çš„ç¼–ç å¯ä»¥æ˜¯å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰æˆ–è€…å­—å…¸ï¼ˆhashtableï¼‰ï¼Œå½“å“ˆå¸Œå¯¹è±¡ä¿å­˜çš„æ‰€æœ‰é”®å€¼å¯¹çš„é”®å’Œå€¼å¾—é•¿åº¦éƒ½å°äº64å­—èŠ‚å¹¶ä¸”å…ƒç´ æ•°é‡å°äº512ä¸ªæ—¶ä½¿ç”¨ziplistï¼Œå¦åˆ™ä½¿ç”¨hashtableã€‚ä½¿ç”¨ziplistæ—¶ï¼Œæ˜¯ä¾æ¬¡å°†é”®å’Œå€¼å‹å…¥é“¾è¡¨ä¹‹ä¸­ï¼Œä¸¤è€…ç›¸é‚»ã€‚ä½¿ç”¨hashtableæ˜¯æ˜¯å°†é”®å€¼å¯¹å­˜äºdictEntryä¹‹ä¸­ã€‚</p> <p>å‹ç¼©åˆ—è¡¨ï¼ˆziplistï¼‰ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code>type <span class="token keyword">struct</span> <span class="token class-name">ziplist</span><span class="token punctuation">{</span>
<span class="token comment">//æ•´ä¸ªå‹ç¼©åˆ—è¡¨çš„å­—èŠ‚æ•°</span>
<span class="token class-name">uint32_t</span> zlbytes<span class="token punctuation">;</span>
<span class="token comment">//è®°å½•å‹ç¼©åˆ—è¡¨å°¾èŠ‚ç‚¹åˆ°å¤´ç»“ç‚¹çš„å­—èŠ‚æ•°ï¼Œç›´æ¥å¯ä»¥æ±‚èŠ‚ç‚¹çš„åœ°å€</span>
<span class="token class-name">uint32_t</span> zltail_offset<span class="token punctuation">;</span>
<span class="token comment">//è®°å½•äº†èŠ‚ç‚¹æ•°ï¼Œæœ‰å¤šç§ç±»å‹ï¼Œé»˜è®¤å¦‚ä¸‹</span>
<span class="token class-name">uint16_t</span> zllength<span class="token punctuation">;</span>
<span class="token comment">//èŠ‚ç‚¹</span>
åˆ—è¡¨èŠ‚ç‚¹ entryX<span class="token punctuation">;</span>
</code></pre></div><p><img src="/redis/other/image-20200506104530919.png" alt="image-20200506104530919"></p> <p>è€Œæ¯ä¸ªåˆ—è¡¨èŠ‚ç‚¹ä¸­ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ é¡¹ï¼šprevious_entry_lengthï¼Œè®°å½•äº†å‹ç¼©åˆ—è¡¨ä¸­å‰ä¸€èŠ‚ç‚¹çš„å­—èŠ‚é•¿åº¦ï¼Œå½“å°äº254å­—èŠ‚æ—¶ï¼Œå®ƒçš„é•¿åº¦ä¸º1å­—èŠ‚ï¼Œå½“å¤§äº254å­—èŠ‚æ—¶ï¼Œé•¿åº¦ä¸º5å­—èŠ‚ä¸”å4å­—èŠ‚ä¿å­˜çœŸæ­£çš„é•¿åº¦ï¼Œç”¨äºè¡¨å°¾å‘è¡¨å¤´éå†ï¼›contentï¼ŒèŠ‚ç‚¹æ‰€å­˜å‚¨çš„å†…å®¹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„æˆ–è€…æ•´æ•°ï¼›encodingï¼Œè®°å½•contentå±æ€§ä¸­æ‰€ä¿å­˜çš„æ•°æ®ç±»å‹ä»¥åŠé•¿åº¦ã€‚</p> <p>å­—å…¸ï¼ˆhashtableï¼‰çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dict</span><span class="token punctuation">{</span>
<span class="token comment">//ç±»å‹ç‰¹å®šå‡½æ•°</span>
dictType <span class="token operator">*</span>type<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨ ä¸¤ä¸ªï¼Œä¸€ä¸ªç”¨äºå®æ—¶å­˜å‚¨ï¼Œä¸€ä¸ªç”¨äºrehash</span>
dictht ht<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//rehashç´¢å¼• æ•°æ®è¿ç§»æ—¶ä½¿ç”¨</span>
<span class="token keyword">unsigned</span> rehashidx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è€Œå“ˆå¸Œè¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">dictht</span><span class="token punctuation">{</span>
<span class="token comment">//å“ˆå¸Œè¡¨æ•°ç»„</span>
dictEntry <span class="token operator">*</span><span class="token operator">*</span>table<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨å¤§å°</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> size<span class="token punctuation">;</span>
<span class="token comment">//å“ˆå¸Œè¡¨æ©ç ï¼Œæ€»æ˜¯ç­‰äºsize-1ï¼Œå­˜å‚¨æ—¶è®¡ç®—ç´¢å¼•å€¼</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> sizemask<span class="token punctuation">;</span>
<span class="token comment">//å·²æœ‰å…ƒç´ æ•°é‡</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> used<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/redis/other/image-20200506143025131.png" alt="image-20200506143025131"></p> <p>å…¶ä¸­é”®å€¼å¯¹éƒ½ä¿å­˜åœ¨èŠ‚ç‚¹dictEntryä¹‹ä¸­ï¼Œå¹¶ä¸”é€šè¿‡æ‹‰é“¾æ³•è§£å†³å“ˆå¸Œå†²çªï¼Œå­˜å‚¨æ—¶é€šè¿‡<strong>MurmurHashç®—æ³•</strong>æ¥è®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œèƒ½å¤Ÿæ›´å¥½çš„æä¾›éšæœºåˆ†å¸ƒæ€§ä¸”é€Ÿåº¦ä¹Ÿå¿«ã€‚æ‰©å®¹æ—¶æ—¶é‡‡ç”¨æ¸è¿›å¼çš„rehashï¼Œé‡‡ç”¨åˆ†è€Œæ²»ä¹‹çš„æ–¹æ³•ï¼Œé€šè¿‡æ”¹å˜rehashidxçš„å€¼ï¼Œæ¥ä¸€ä¸ªä¸ªå°†å…ƒç´ ç§»åŠ¨åˆ°ht[1]ä¸­ï¼Œå®Œæˆä»¥åå°†ht[1]å˜ä¸ºht[0]ï¼ŒåŸå…ˆçš„ht[0]å˜ä¸ºht[1]ï¼ŒåŒæ—¶å°†redhashidxç½®ä¸º-1ã€‚</p> <p><strong>å“ˆå¸Œçš„åŸºæœ¬æ“ä½œ</strong></p> <p><strong>hset</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è®¾ç½®hash field ä¸ºæŒ‡å®šå€¼ï¼Œå¦‚æœkey ä¸å­˜åœ¨ï¼Œåˆ™å…ˆè¿›è¡Œåˆ›å»º

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset mytest field1 Hello
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hget mytest field1
<span class="token string">&quot;Hello&quot;</span>
</code></pre></div><p><strong>hsetnx</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code> è®¾ç½®hash field ä¸ºæŒ‡å®šå€¼ï¼Œå¦‚æœkey ä¸å­˜åœ¨ï¼Œåˆ™å…ˆåˆ›å»ºã€‚å¦‚æœfield å·²ç»å­˜åœ¨ï¼Œè¿”å›0ã€‚
</code></pre></div><p><strong>hmset</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>åŒæ—¶è®¾ç½®hash çš„å¤šä¸ªfieldã€‚
</code></pre></div><p><strong>hget</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è·å–æŒ‡å®šçš„hash fieldã€‚
</code></pre></div><p><strong>hmget</strong>-------æ‰¹é‡è·å– éœ€è¦æŒ‡å®šå±æ€§</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è·å–å…¨éƒ¨æŒ‡å®šçš„hash filedã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmget mytest field1 field2 field3
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;world&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;!&quot;</span>
</code></pre></div><p><strong>hincrby</strong>--------è¿½åŠ  åªèƒ½åŠ åœ¨intä¸Š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>æŒ‡å®šçš„hash filed åŠ ä¸Šç»™å®šå€¼ï¼ˆæ— hincræ“ä½œï¼‰ã€‚
<span class="token assign-left variable">new_filed</span><span class="token operator">=</span>old_filed+hincrby_filedï¼› 

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset mytest field4 <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hget mytest field4
<span class="token string">&quot;10&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincr mytest field4
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR unknown <span class="token builtin class-name">command</span> <span class="token string">'hincr'</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby mytest field4 <span class="token number">8</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">18</span>
</code></pre></div><p><strong>hexists</strong>-------</p> <div class="language-bash extra-class"><pre class="language-bash"><code>æµ‹è¯•æŒ‡å®šfield æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0ã€‚
</code></pre></div><p><strong>hlen</strong>-------</p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›æŒ‡å®šhash çš„field æ•°é‡ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen mytest
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
</code></pre></div><p><strong>hdel</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>åˆ é™¤æŒ‡å®šhash çš„field ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen mytest
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hdel mytest field3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen mytest
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre></div><p><strong>hkeys</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›hash çš„æ‰€æœ‰fieldã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys mytest
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;txt1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset mytest field2 <span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys mytest
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;txt1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;field2&quot;</span>
</code></pre></div><p><strong>hvals</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è¿”å›hash çš„æ‰€æœ‰valueå€¼ã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hvals mytest
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
</code></pre></div><p><strong>hgetall</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>è·å–æŸä¸ªhash ä¸­å…¨éƒ¨çš„filed åŠvalueã€‚

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall mytest
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;txt1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;field2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
</code></pre></div><h2 id="æ¸…é™¤redisç¼“å­˜æ•°æ®"><a href="#æ¸…é™¤redisç¼“å­˜æ•°æ®" class="header-anchor">#</a> æ¸…é™¤redisç¼“å­˜æ•°æ®</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>.æŸ¥è¯¢æ‰€æœ‰å®¹å™¨

    docker <span class="token function">ps</span> -a

<span class="token number">2</span>.è¿›å…¥rediså®¢æˆ·ç«¯

   docker <span class="token builtin class-name">exec</span> -it  xxxï¼ˆIDï¼‰  redis-cli
   
<span class="token number">3</span>.æ¸…é™¤ç¼“å­˜

 flushall  æ‰€æœ‰æ•°æ®åº“

 flushdb  å½“å‰åº“
 
 ä¹Ÿå¯ä»¥é€‰å®šæ•°æ®åº“æ¸…é™¤æ•°æ® redis æä¾›ä»db0-15  <span class="token number">16</span>ä¸ªæ•°æ®åº“
 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> auth å¯†ç <span class="token punctuation">(</span>Occ2018<span class="token punctuation">)</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> flushdb
ok

<span class="token number">4</span>.æ¸…é™¤æŒ‡å®škey

   æŸ¥è¯¢æ‰€æœ‰keyï¼škeys *

   åˆ é™¤æŒ‡å®škeyï¼šdel xxxï¼ˆkeyï¼‰
   
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">&quot;age&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">&quot;name&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> del name
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">&quot;age&quot;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master/packages/docs/docs/redis/other/Redisæ“ä½œé€ŸæŸ¥æ‰‹å†Œ.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/11/16 ä¸Šåˆ9:35:24</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----><!----><!----></div></div>
    <script src="/assets/js/app.75796fb8.js" defer></script><script src="/assets/js/5.4faacd21.js" defer></script><script src="/assets/js/125.19a7b81f.js" defer></script><script src="/assets/js/9.fd263465.js" defer></script>
  </body>
</html>
